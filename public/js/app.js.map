{"version":3,"sources":["webpack:///./node_modules/alpine-turbo-drive-adapter/dist/alpine-turbo-drive-adapter.esm.js","webpack:///./node_modules/alpinejs/dist/alpine.js","webpack:///webpack/bootstrap","webpack:///./node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js","webpack:///./resources/js/app.js"],"names":["Bridge","document","body","querySelectorAll","forEach","node","setAttribute","this","configureEventHandlers","state","window","Alpine","version","required","current","requiredArray","split","currentArray","i","length","isValidVersion","Error","pauseMutationObserver","initCallback","discoverUninitializedComponents","el","initializeComponent","requestAnimationFrame","setMutationObserverState","beforeRenderCallback","event","data","newBody","detail","hasAttribute","removeAttribute","__x_for_key","__x_inserted_me","remove","beforeCacheCallback","nextEl","nextElementSibling","currEl","ifEl","addEventListener","callback","console","error","Object","getOwnPropertyDescriptor","NodeList","prototype","defineProperty","Array","init","readyState","module","exports","_defineProperty","obj","key","value","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread2","target","arguments","source","getOwnPropertyDescriptors","defineProperties","domReady","Promise","resolve","arrayUnique","array","from","Set","isTesting","navigator","userAgent","includes","checkedAttrLooseCompare","valueA","valueB","warnIfMalformedTemplate","directive","tagName","toLowerCase","warn","content","childElementCount","kebabCase","subject","replace","camelCase","match","char","toUpperCase","walk","firstElementChild","debounce","func","wait","timeout","context","args","later","clearTimeout","setTimeout","handleError","expression","tryCatch","cb","catch","e","saferEval","dataContext","additionalHelperVariables","call","Function","values","saferEvalNoReturn","AsyncFunction","getPrototypeOf","async","constructor","methodReference","xAttrRE","isXAttr","attr","name","replaceAtAndColonWithStandardSyntax","test","getXAttrs","component","type","directives","attributes","map","parseHtmlAttribute","spreadDirective","spreadObject","$data","concat","entries","sortDirectives","directiveOrder","sort","a","b","typeA","indexOf","typeB","normalizedName","typeMatch","valueMatch","modifiers","isBooleanAttr","attrName","startsWith","convertClassStringToArray","classList","filterFn","Boolean","TRANSITION_TYPE_IN","TRANSITION_TYPE_OUT","TRANSITION_CANCELLED","transitionIn","show","reject","forceSkip","__x_transition","attrs","showAttr","settingBothSidesOfTransition","index","transitionHelperIn","some","transitionClassesIn","transitionOut","hide","transitionHelperOut","transitionClassesOut","showCallback","transitionHelper","duration","modifierValue","origin","first","opacity","scale","second","hideCallback","fallback","rawValue","isNumeric","join","hook1","hook2","styleValues","cancel","opacityCache","style","transformCache","transform","transformOriginCache","transformOrigin","noModifiers","transitionOpacity","transitionScale","stages","transitionProperty","trim","transitionDuration","transitionTimingFunction","transition","ensureStringExpression","evaluateReturnExpression","transitionClasses","find","classesDuring","classesStart","classesEnd","originalClasses","__x_original_classes","add","finish","once","isConnected","cleanup","nextFrame","start","during","Number","getComputedStyle","animationDuration","end","isArray","isNaN","called","handleForDirective","templateEl","initialUpdate","extraVars","iteratorNames","parseForExpression","items","evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement","currentEl","item","iterationScopeVariables","getIterationScopeVariables","currentKey","generateKeyForIteration","lookAheadForMatchingKeyedElementAndMoveItIfFound","__x_for","updateElements","addElementInLoopAfterCurrentEl","initializeElements","removeAnyLeftOverElementsFromPreviousUpdate","forIteratorRE","stripParensRE","forAliasRE","inMatch","res","iteratorMatch","collection","scopeVariables","bindKeyAttribute","ifAttribute","clone","importNode","parentElement","insertBefore","undefined","tmpNextEl","nextElementFromOldLoop","nextElementFromOldLoopImmutable","nextSibling","handleAttributeBindingDirective","attrType","ignoreFocusedForValueBinding","activeElement","isSameNode","checked","val","String","updateSelect","classNames","className","newClasses","setIfChanged","getAttribute","arrayWrappedValue","options","option","selected","text","handleTextDirective","output","textContent","handleHtmlDirective","innerHTML","handleShowDirective","display","__x_is_shown","removeProperty","handle","showDirectiveLastElement","contains","executeAndClearRemainingShowDirectiveStack","showDirectiveStack","handleIfDirective","expressionResult","elementHasAlreadyBeenAdded","registerListener","passive","handler","offsetWidth","offsetHeight","runListenerHandler","removeEventListener","listenerTarget","isKeyEvent","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","then","nextModifier","evaluateCommandExpression","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","registerModelListener","rightSideOfExpression","generateModelAssignmentFunction","currentValue","CustomEvent","newValue","safeParseNumber","multiple","selectedOptions","number","parseFloat","create","ObjectCreate","ObjectDefineProperty","ObjectDefineProperties","isExtensible","getOwnPropertyNames","preventExtensions","hasOwnProperty","ArrayPush","ArrayConcat","ArrayMap","isUndefined","isFunction","isObject","proxyToValueMap","WeakMap","registerProxy","proxy","set","unwrap","replicaOrAny","get","wrapValue","membrane","valueIsObservable","getProxy","unwrapDescriptor","descriptor","lockShadowTarget","shadowTarget","originalTarget","wrapDescriptor","ReactiveProxyHandler","valueObserved","valueMutated","thisArg","argArray","newTarget","shadowIsExtensible","targetIsExtensible","desc","shadowDescriptor","originalDescriptor","wrapReadOnlyValue","getReadOnlyProxy","ReadOnlyHandler","createShadowTarget","ObjectDotPrototype","defaultValueIsObservable","proto","defaultValueObserved","defaultValueMutated","defaultValueDistortion","getValue","unwrapProxy","ReactiveMembrane","valueDistortion","objectGraph","unwrappedValue","distorted","o","getReactiveState","readOnly","reactive","p","distortedValue","reactiveState","reactiveHandler","Proxy","readOnlyHandler","wrap","mutationCallback","unwrap$1","observable","unwrappedData","copy","Component","componentForClone","$el","dataAttr","dataExpression","initExpression","dataExtras","canonicalComponentElementReference","magicProperties","unobservedData","getUnobservedData","wrapDataInObservable","initReturnedCallback","$refs","getRefsProxy","nextTickStack","$nextTick","watchers","$watch","property","onBeforeComponentInitializeds","pauseReactivity","listenForNewElementsToInitialize","onComponentInitializeds","self","updateDom","fullDotNotationKey","dotNotationParts","reduce","comparisonData","part","is","initializeComponentCallback","__x","rootEl","walkAndSkipNestedComponents","initializeElement","executeAndClearNextTickStack","registerListeners","resolveBoundAttributes","updateElement","shift","reverse","promiseChain","promise","finishElement","$dispatch","getDispatchFunction","dispatchEvent","bubbles","targetNode","observerOptions","childList","subtree","MutationObserver","mutations","closestParentComponent","closest","attributeName","xAttr","rawData","addedNodes","nodeType","matches","observe","ref","discoverComponents","listenForNewUninitializedComponentsAtRunTime","rootEls","querySelector","newEl","addMagicProperty","onComponentInitialized","onBeforeComponentInitialized","deferLoadingAlpine","factory","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","Reflect","customElements","polyfillWrapFlushCallback","BuiltInHTMLElement","HTMLElement","wrapperForTheName","construct","setPrototypeOf","submittersByForm","clickCaptured","submitter","element","Element","Node","candidate","findSubmitterFromClickTarget","form","FrameLoadingStyle","FetchMethod","FormSubmissionState","FormEnctype","Event","HTMLFormElement","FrameElement","super","loaded","delegate","delegateConstructor","connect","disconnect","loadingStyleChanged","sourceURLChanged","lazy","eager","frameLoadingStyleFromString","isLoading","ownerDocument","isPreview","_a","_b","documentElement","expandURL","locatable","anchor","createElement","href","toString","URL","getAnchor","url","anchorMatch","hash","slice","getExtension","pathname","getPathComponents","getLastPathComponent","isPrefixedBy","baseURL","prefix","endsWith","getPrefix","toCacheKey","anchorLength","FetchResponse","response","ok","succeeded","statusCode","redirected","contentType","status","header","isHTML","headers","dispatch","eventName","cancelable","nextAnimationFrame","parseHTMLDocument","html","DOMParser","parseFromString","unindent","strings","lines","result","string","interpolate","indent","line","uuid","_","Math","floor","random","FetchRequest","method","location","URLSearchParams","abortController","AbortController","isIdempotent","currentSearchParams","search","File","has","delete","searchParams","append","mergeFormDataEntries","abort","fetchOptions","requestStarted","fetch","receive","requestErrored","requestFinished","fetchResponse","defaultPrevented","requestPreventedHandlingResponse","requestSucceededWithResponse","requestFailedWithResponse","credentials","redirect","signal","abortSignal","assign","defaultHeaders","prepareHeadersForRequest","AppearanceObserver","started","intersect","lastEntry","isIntersecting","elementAppearedInViewport","intersectionObserver","IntersectionObserver","unobserve","StreamMessage","templateElement","message","fragment","createDocumentFragment","foreignElements","appendChild","templateChildren","streamElements","child","children","FormSubmission","formElement","mustRedirect","initialized","formData","FormData","buildFormData","fetchRequest","post","put","patch","fetchMethodFromString","action","enctype","urlEncoded","stringFormData","encoding","multipart","plain","formEnctypeFromString","requesting","perform","stopping","stopped","request","token","cookieName","cookie","decodeURIComponent","getCookieValue","getMetaContent","waiting","formSubmission","formSubmissionStarted","success","clientError","serverError","formSubmissionFailedWithResponse","requestMustRedirect","responseSucceededWithoutRedirect","formSubmissionErrored","receiving","formSubmissionSucceededWithResponse","formSubmissionFinished","Snapshot","getElementForAnchor","id","snapshot","permanentElements","getPermanentElementById","FormInterceptor","submitBubbled","shouldInterceptFormSubmission","stopImmediatePropagation","formSubmissionIntercepted","View","scrollToElement","scrollToPosition","x","y","scrollIntoView","scrollRoot","scrollTo","renderer","shouldRender","newSnapshot","prepareToRenderSnapshot","viewWillRenderSnapshot","renderSnapshot","viewRenderedSnapshot","finishRenderingSnapshot","invalidate","viewInvalidated","markAsPreview","prepareToRender","render","finishRendering","FrameView","LinkInterceptor","clickBubbled","respondsToEventTarget","clickEvent","linkClicked","shouldInterceptLinkClick","linkClickIntercepted","willVisit","Renderer","currentSnapshot","resolvingFunctions","createdScriptElement","destinationElement","sourceElement","copyElementAttributes","placeholders","getPermanentElementsPresentInSnapshot","permanentElement","newElement","placeholder","createPlaceholderForPermanentElement","replaceElementWithElement","cloneNode","replacePlaceholderElementsWithClonedPermanentElements","firstAutofocusableElement","focus","elementIsFocusable","fromElement","toElement","replaceChild","FrameRenderer","preservingPermanentElements","loadFrameElement","scrollFrameIntoView","focusFirstAutofocusableElement","destinationRange","createRange","selectNodeContents","currentElement","deleteContents","frameElement","sourceRange","extractContents","autoscroll","block","defaultValue","getFrameElementById","getElementById","activateElement","StreamActions","targetElement","templateContent","prepend","replaceWith","StreamElement","renderPromise","beforeRenderEvent","performAction","actionFunction","raise","HTMLTemplateElement","description","outerHTML","resolveVisitPromise","view","appearanceObserver","linkInterceptor","formInterceptor","loadingStyle","stop","loadSourceURL","isActive","sourceURL","loadingURL","visit","responseHTML","extractForeignFrameElement","shouldInterceptNavigation","navigateFrame","loadResponse","findFrameElement","src","container","CSS","escape","enabled","disabled","loading","define","currentScript","ProgressBar","hiding","visible","trickle","setValue","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","installStylesheetElement","installProgressElement","startTrickling","fadeProgressElement","uninstallProgressElement","stopTrickling","refresh","head","firstChild","width","parentNode","removeChild","trickleInterval","setInterval","clearInterval","defaultCSS","HeadSnapshot","detailsByOuterHTML","details","elementType","tracked","elementIsTracked","elements","getElementsMatchingTypeNotInSnapshot","matchedType","findMetaElementByName","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","PageSnapshot","headSnapshot","fromDocument","getSetting","cacheControlValue","getMetaValue","TimingMetric","VisitState","defaultOptions","historyChanged","SystemStatusCode","PageStage","Visit","restorationIdentifier","identifier","timingMetrics","followedRedirect","scrolled","snapshotCached","referrer","snapshotHTML","adapter","history","getRestorationDataForIdentifier","recordTimingMetric","visitStart","visitStarted","cancelRender","canceled","visitEnd","completed","visitCompleted","failed","visitFailed","actionForHistory","getHistoryMethodForAction","update","hasPreloadedResponse","simulateRequest","shouldIssueRequest","startRequest","recordResponse","finishRequest","requestStart","visitRequestStarted","isSuccessful","visitRequestCompleted","visitRequestFailedWithStatusCode","requestEnd","visitRequestFinished","cacheSnapshot","renderPage","fromHTMLString","visitRendered","complete","renderError","fail","getCachedSnapshotForLocation","getPreloadedSnapshot","hasAnchor","isPreviewable","getCachedSnapshot","redirectedToLocation","contentTypeMismatch","networkFailure","scrollToRestoredPosition","scrollToTop","scrollToAnchor","scrollPosition","restorationData","metric","Date","getTime","replaceState","pushState","hasCachedSnapshot","frame","performScroll","cancelAnimationFrame","BrowserAdapter","session","progressBar","showProgressBar","startVisit","issueRequest","changeHistory","loadCachedSnapshot","showProgressBarAfterDelay","timeoutFailure","reload","hideProgressBar","followRedirect","progressBarTimeout","progressBarDelay","FormSubmitObserver","submitCaptured","willSubmitForm","formSubmitted","FrameRedirector","shouldRedirect","History","pageLoaded","onPopState","shouldHandlePopState","turbo","historyPoppedToLocationWithRestorationIdentifier","onPageLoad","additionalData","previousScrollRestoration","scrollRestoration","pageIsLoaded","LinkClickObserver","clickEventIsSignificant","link","findLinkFromClickTarget","getLocationForLink","willFollowLinkToLocation","followedLinkToLocation","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","Navigator","allowsVisitingLocation","visitProposedToLocation","currentVisit","proposeVisit","clearSnapshotCache","visitOptions","PageObserver","stage","initial","interpretReadyState","pageIsInteractive","pageIsComplete","pageWillUnload","interactive","pageBecameInteractive","ScrollObserver","onScroll","updatePosition","pageXOffset","pageYOffset","position","scrollPositionChanged","StreamObserver","sources","inspectFetchResponse","fetchResponseFromEvent","fetchResponseIsStream","receiveMessageResponse","receiveMessageEvent","receiveMessageHTML","streamSourceIsConnected","receivedMessageFromStream","ErrorRenderer","replaceHeadAndBody","activateScriptElements","newHead","replaceableElement","scriptElements","createScriptElement","PageRenderer","isVisitable","trackedElementsAreIdentical","mergeHead","replaceBody","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","activateNewBody","assignNewBody","currentHeadSnapshot","trackedElementSignature","newHeadSnapshot","newHeadStylesheetElements","newHeadScriptElements","currentHeadProvisionalElements","newHeadProvisionalElements","adoptNode","activateNewBodyScriptElements","inertScriptElement","newBodyScriptElements","HTMLBodyElement","getStylesheetElementsNotInSnapshot","getScriptElementsNotInSnapshot","provisionalElements","SnapshotCache","size","snapshots","read","touch","write","unshift","PageView","snapshotCache","lastRenderedLocation","clear","shouldCacheSnapshot","viewWillCacheSnapshot","isCacheable","extendURLWithDeprecatedProperties","deprecatedLocationPropertyDescriptors","absoluteURL","pageObserver","linkClickObserver","formSubmitObserver","scrollObserver","streamObserver","frameRedirector","connectStreamSource","disconnectStreamSource","delay","pageInvalidated","updateRestorationData","elementIsNavigable","locationIsVisitable","applicationAllowsFollowingLinkToLocation","getActionForLink","applicationAllowsVisitingLocation","notifyApplicationAfterVisitingLocation","notifyApplicationAfterPageLoad","getTimingMetrics","submitForm","assumeControlOfScrollRestoration","relinquishControlOfScrollRestoration","renderStreamMessage","notifyApplicationBeforeCachingSnapshot","notifyApplicationBeforeRender","notifyApplicationAfterRender","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","timing","isAction","rootLocation","Turbo"],"mappings":"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","file":"/js/app.js","sourcesContent":["function isValidVersion(required, current) {\n  const requiredArray = required.split('.');\n  const currentArray = current.split('.');\n\n  for (let i = 0; i < requiredArray.length; i++) {\n    if (!currentArray[i] || currentArray[i] < requiredArray[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction beforeDomReady(callback) {\n  if (document.readyState === 'loading') {\n    document.addEventListener('readystatechange', () => {\n      if (document.readyState === 'interactive') {\n        callback();\n      }\n    });\n  } else {\n    callback();\n  }\n}\n\nclass Bridge {\n  init() {\n    // Tag all cloaked elements on first page load.\n    document.body.querySelectorAll('[x-cloak]').forEach(node => {\n      node.setAttribute('data-alpine-was-cloaked', '');\n    });\n    this.configureEventHandlers();\n  }\n\n  setMutationObserverState(state) {\n    if (!window.Alpine.version || !isValidVersion('2.4.0', window.Alpine.version)) {\n      throw new Error('Invalid Alpine version. Please use Alpine 2.4.0 or above');\n    }\n\n    window.Alpine.pauseMutationObserver = state;\n  }\n\n  configureEventHandlers() {\n    // Once Turbolinks finished is magic, we initialise Alpine on the new page\n    // and resume the observer\n    const initCallback = () => {\n      window.Alpine.discoverUninitializedComponents(el => {\n        window.Alpine.initializeComponent(el);\n      });\n      requestAnimationFrame(() => {\n        this.setMutationObserverState(false);\n      });\n    }; // Before swapping the body, clean up any element with x-turbolinks-cached\n    // which do not have any Alpine properties.\n    // Note, at this point all html fragments marked as data-turbolinks-permanent\n    // are already copied over from the previous page so they retain their listener\n    // and custom properties and we don't want to reset them.\n\n\n    const beforeRenderCallback = event => {\n      const newBody = event.data ? event.data.newBody : event.detail.newBody;\n      newBody.querySelectorAll('[data-alpine-generated-me],[x-cloak]').forEach(el => {\n        if (el.hasAttribute('x-cloak')) {\n          // When we get a new document body tag any cloaked elements so we can cloak\n          // them again before caching.\n          el.setAttribute('data-alpine-was-cloaked', '');\n        }\n\n        if (el.hasAttribute('data-alpine-generated-me')) {\n          el.removeAttribute('data-alpine-generated-me');\n\n          if (typeof el.__x_for_key === 'undefined' && typeof el.__x_inserted_me === 'undefined') {\n            el.remove();\n          }\n        }\n      });\n    }; // Pause the the mutation observer to avoid data races, it will be resumed by the turbolinks:load event.\n    // We mark as `data-alpine-generated-m` all elements that are crated by an Alpine templating directives.\n    // The reason is that turbolinks caches pages using cloneNode which removes listeners and custom properties\n    // So we need to propagate this infomation using a HTML attribute. I know, not ideal but I could not think\n    // of a better option.\n    // Note, we can't remove any Alpine generated element as yet because if they live inside an element\n    // marked as data-turbolinks-permanent they need to be copied into the next page.\n    // The coping process happens somewhere between before-cache and before-render.\n\n\n    const beforeCacheCallback = () => {\n      this.setMutationObserverState(true);\n      document.body.querySelectorAll('[x-for],[x-if],[data-alpine-was-cloaked]').forEach(el => {\n        // Cloak any elements again that were tagged when the page was loaded\n        if (el.hasAttribute('data-alpine-was-cloaked')) {\n          el.setAttribute('x-cloak', '');\n          el.removeAttribute('data-alpine-was-cloaked');\n        }\n\n        if (el.hasAttribute('x-for')) {\n          let nextEl = el.nextElementSibling;\n\n          while (nextEl && typeof nextEl.__x_for_key !== 'undefined') {\n            const currEl = nextEl;\n            nextEl = nextEl.nextElementSibling;\n            currEl.setAttribute('data-alpine-generated-me', true);\n          }\n        } else if (el.hasAttribute('x-if')) {\n          const ifEl = el.nextElementSibling;\n\n          if (ifEl && typeof ifEl.__x_inserted_me !== 'undefined') {\n            ifEl.setAttribute('data-alpine-generated-me', true);\n          }\n        }\n      });\n    };\n\n    document.addEventListener('turbo:load', initCallback);\n    document.addEventListener('turbolinks:load', initCallback);\n    document.addEventListener('turbo:before-render', beforeRenderCallback);\n    document.addEventListener('turbolinks:before-render', beforeRenderCallback);\n    document.addEventListener('turbo:before-cache', beforeCacheCallback);\n    document.addEventListener('turbolinks:before-cache', beforeCacheCallback);\n  }\n\n}\n\nif (window.Alpine) {\n  console.error('Alpine-turbo-drive-adapter must be included before AlpineJs');\n} // Polyfill for legacy browsers\n\n\nif (!Object.getOwnPropertyDescriptor(NodeList.prototype, 'forEach')) {\n  Object.defineProperty(NodeList.prototype, 'forEach', Object.getOwnPropertyDescriptor(Array.prototype, 'forEach'));\n} // To better suport x-cloak, we need to init the library when the DOM\n// has been downloaded but before Alpine kicks in\n\n\nbeforeDomReady(() => {\n  const bridge = new Bridge();\n  bridge.init();\n});\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Alpine = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  // Thanks @stimulus:\n  // https://github.com/stimulusjs/stimulus/blob/master/packages/%40stimulus/core/src/application.ts\n  function domReady() {\n    return new Promise(resolve => {\n      if (document.readyState == \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  function arrayUnique(array) {\n    return Array.from(new Set(array));\n  }\n  function isTesting() {\n    return navigator.userAgent.includes(\"Node.js\") || navigator.userAgent.includes(\"jsdom\");\n  }\n  function checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB;\n  }\n  function warnIfMalformedTemplate(el, directive) {\n    if (el.tagName.toLowerCase() !== 'template') {\n      console.warn(`Alpine: [${directive}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${directive}`);\n    } else if (el.content.childElementCount !== 1) {\n      console.warn(`Alpine: <template> tag with [${directive}] encountered with multiple element roots. Make sure <template> only has a single child element.`);\n    }\n  }\n  function kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase();\n  }\n  function camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n  }\n  function walk(el, callback) {\n    if (callback(el) === false) return;\n    let node = el.firstElementChild;\n\n    while (node) {\n      walk(node, callback);\n      node = node.nextElementSibling;\n    }\n  }\n  function debounce(func, wait) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function later() {\n        timeout = null;\n        func.apply(context, args);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  const handleError = (el, expression, error) => {\n    console.warn(`Alpine Error: \"${error}\"\\n\\nExpression: \"${expression}\"\\nElement:`, el);\n\n    if (!isTesting()) {\n      throw error;\n    }\n  };\n\n  function tryCatch(cb, {\n    el,\n    expression\n  }) {\n    try {\n      const value = cb();\n      return value instanceof Promise ? value.catch(e => handleError(el, expression, e)) : value;\n    } catch (e) {\n      handleError(el, expression, e);\n    }\n  }\n\n  function saferEval(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return expression.call(dataContext);\n      }\n\n      return new Function(['$data', ...Object.keys(additionalHelperVariables)], `var __alpine_result; with($data) { __alpine_result = ${expression} }; return __alpine_result`)(dataContext, ...Object.values(additionalHelperVariables));\n    }, {\n      el,\n      expression\n    });\n  }\n  function saferEvalNoReturn(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return Promise.resolve(expression.call(dataContext, additionalHelperVariables['$event']));\n      }\n\n      let AsyncFunction = Function;\n      /* MODERN-ONLY:START */\n\n      AsyncFunction = Object.getPrototypeOf(async function () {}).constructor;\n      /* MODERN-ONLY:END */\n      // For the cases when users pass only a function reference to the caller: `x-on:click=\"foo\"`\n      // Where \"foo\" is a function. Also, we'll pass the function the event instance when we call it.\n\n      if (Object.keys(dataContext).includes(expression)) {\n        let methodReference = new Function(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { return ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables));\n\n        if (typeof methodReference === 'function') {\n          return Promise.resolve(methodReference.call(dataContext, additionalHelperVariables['$event']));\n        } else {\n          return Promise.resolve();\n        }\n      }\n\n      return Promise.resolve(new AsyncFunction(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables)));\n    }, {\n      el,\n      expression\n    });\n  }\n  const xAttrRE = /^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\\b/;\n  function isXAttr(attr) {\n    const name = replaceAtAndColonWithStandardSyntax(attr.name);\n    return xAttrRE.test(name);\n  }\n  function getXAttrs(el, component, type) {\n    let directives = Array.from(el.attributes).filter(isXAttr).map(parseHtmlAttribute); // Get an object of directives from x-spread.\n\n    let spreadDirective = directives.filter(directive => directive.type === 'spread')[0];\n\n    if (spreadDirective) {\n      let spreadObject = saferEval(el, spreadDirective.expression, component.$data); // Add x-spread directives to the pile of existing directives.\n\n      directives = directives.concat(Object.entries(spreadObject).map(([name, value]) => parseHtmlAttribute({\n        name,\n        value\n      })));\n    }\n\n    if (type) return directives.filter(i => i.type === type);\n    return sortDirectives(directives);\n  }\n\n  function sortDirectives(directives) {\n    let directiveOrder = ['bind', 'model', 'show', 'catch-all'];\n    return directives.sort((a, b) => {\n      let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type;\n      let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type;\n      return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);\n    });\n  }\n\n  function parseHtmlAttribute({\n    name,\n    value\n  }) {\n    const normalizedName = replaceAtAndColonWithStandardSyntax(name);\n    const typeMatch = normalizedName.match(xAttrRE);\n    const valueMatch = normalizedName.match(/:([a-zA-Z0-9\\-:]+)/);\n    const modifiers = normalizedName.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\n    return {\n      type: typeMatch ? typeMatch[1] : null,\n      value: valueMatch ? valueMatch[1] : null,\n      modifiers: modifiers.map(i => i.replace('.', '')),\n      expression: value\n    };\n  }\n  function isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = ['disabled', 'checked', 'required', 'readonly', 'hidden', 'open', 'selected', 'autofocus', 'itemscope', 'multiple', 'novalidate', 'allowfullscreen', 'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop', 'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer', 'nomodule'];\n    return booleanAttributes.includes(attrName);\n  }\n  function replaceAtAndColonWithStandardSyntax(name) {\n    if (name.startsWith('@')) {\n      return name.replace('@', 'x-on:');\n    } else if (name.startsWith(':')) {\n      return name.replace(':', 'x-bind:');\n    }\n\n    return name;\n  }\n  function convertClassStringToArray(classList, filterFn = Boolean) {\n    return classList.split(' ').filter(filterFn);\n  }\n  const TRANSITION_TYPE_IN = 'in';\n  const TRANSITION_TYPE_OUT = 'out';\n  const TRANSITION_CANCELLED = 'cancelled';\n  function transitionIn(el, show, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return show();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_IN) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0]; // If this is triggered by a x-show.transition.\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers; // If x-show.transition.out, we'll skip the \"in\" transition.\n\n      if (modifiers.includes('out') && !modifiers.includes('in')) return show();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out'); // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers;\n      transitionHelperIn(el, modifiers, show, reject); // Otherwise, we can assume x-transition:enter.\n    } else if (attrs.some(attr => ['enter', 'enter-start', 'enter-end'].includes(attr.value))) {\n      transitionClassesIn(el, component, attrs, show, reject);\n    } else {\n      // If neither, just show that damn thing.\n      show();\n    }\n  }\n  function transitionOut(el, hide, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return hide();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_OUT) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0];\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers;\n      if (modifiers.includes('in') && !modifiers.includes('out')) return hide();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out');\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers;\n      transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hide, reject);\n    } else if (attrs.some(attr => ['leave', 'leave-start', 'leave-end'].includes(attr.value))) {\n      transitionClassesOut(el, component, attrs, hide, reject);\n    } else {\n      hide();\n    }\n  }\n  function transitionHelperIn(el, modifiers, showCallback, reject) {\n    // Default values inspired by: https://material.io/design/motion/speed.html#duration\n    const styleValues = {\n      duration: modifierValue(modifiers, 'duration', 150),\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      },\n      second: {\n        opacity: 1,\n        scale: 100\n      }\n    };\n    transitionHelper(el, modifiers, showCallback, () => {}, reject, styleValues, TRANSITION_TYPE_IN);\n  }\n  function transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hideCallback, reject) {\n    // Make the \"out\" transition .5x slower than the \"in\". (Visually better)\n    // HOWEVER, if they explicitly set a duration for the \"out\" transition,\n    // use that.\n    const duration = settingBothSidesOfTransition ? modifierValue(modifiers, 'duration', 150) : modifierValue(modifiers, 'duration', 150) / 2;\n    const styleValues = {\n      duration: duration,\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 1,\n        scale: 100\n      },\n      second: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      }\n    };\n    transitionHelper(el, modifiers, () => {}, hideCallback, reject, styleValues, TRANSITION_TYPE_OUT);\n  }\n\n  function modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback; // If it IS present, grab the value after it: x-show.transition.duration.500ms\n\n    const rawValue = modifiers[modifiers.indexOf(key) + 1];\n    if (!rawValue) return fallback;\n\n    if (key === 'scale') {\n      // Check if the very next value is NOT a number and return the fallback.\n      // If x-show.transition.scale, we'll use the default scale value.\n      // That is how a user opts out of the opacity transition.\n      if (!isNumeric(rawValue)) return fallback;\n    }\n\n    if (key === 'duration') {\n      // Support x-show.transition.duration.500ms && duration.500\n      let match = rawValue.match(/([0-9]+)ms/);\n      if (match) return match[1];\n    }\n\n    if (key === 'origin') {\n      // Support chaining origin directions: x-show.transition.top.right\n      if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n        return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ');\n      }\n    }\n\n    return rawValue;\n  }\n\n  function transitionHelper(el, modifiers, hook1, hook2, reject, styleValues, type) {\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    } // If the user set these style values, we'll put them back when we're done with them.\n\n\n    const opacityCache = el.style.opacity;\n    const transformCache = el.style.transform;\n    const transformOriginCache = el.style.transformOrigin; // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n\n    const noModifiers = !modifiers.includes('opacity') && !modifiers.includes('scale');\n    const transitionOpacity = noModifiers || modifiers.includes('opacity');\n    const transitionScale = noModifiers || modifiers.includes('scale'); // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n\n    const stages = {\n      start() {\n        if (transitionOpacity) el.style.opacity = styleValues.first.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`;\n      },\n\n      during() {\n        if (transitionScale) el.style.transformOrigin = styleValues.origin;\n        el.style.transitionProperty = [transitionOpacity ? `opacity` : ``, transitionScale ? `transform` : ``].join(' ').trim();\n        el.style.transitionDuration = `${styleValues.duration / 1000}s`;\n        el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`;\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        if (transitionOpacity) el.style.opacity = styleValues.second.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`;\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        if (transitionOpacity) el.style.opacity = opacityCache;\n        if (transitionScale) el.style.transform = transformCache;\n        if (transitionScale) el.style.transformOrigin = transformOriginCache;\n        el.style.transitionProperty = null;\n        el.style.transitionDuration = null;\n        el.style.transitionTimingFunction = null;\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n\n  const ensureStringExpression = (expression, el, component) => {\n    return typeof expression === 'function' ? component.evaluateReturnExpression(el, expression) : expression;\n  };\n\n  function transitionClassesIn(el, component, directives, showCallback, reject) {\n    const enter = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter') || {\n      expression: ''\n    }).expression, el, component));\n    const enterStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-start') || {\n      expression: ''\n    }).expression, el, component));\n    const enterEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, enter, enterStart, enterEnd, showCallback, () => {}, TRANSITION_TYPE_IN, reject);\n  }\n  function transitionClassesOut(el, component, directives, hideCallback, reject) {\n    const leave = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-start') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, leave, leaveStart, leaveEnd, () => {}, hideCallback, TRANSITION_TYPE_OUT, reject);\n  }\n  function transitionClasses(el, classesDuring, classesStart, classesEnd, hook1, hook2, type, reject) {\n    // clear the previous transition if exists to avoid caching the wrong classes\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    }\n\n    const originalClasses = el.__x_original_classes || [];\n    const stages = {\n      start() {\n        el.classList.add(...classesStart);\n      },\n\n      during() {\n        el.classList.add(...classesDuring);\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        // Don't remove classes that were in the original class attribute.\n        el.classList.remove(...classesStart.filter(i => !originalClasses.includes(i)));\n        el.classList.add(...classesEnd);\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        el.classList.remove(...classesDuring.filter(i => !originalClasses.includes(i)));\n        el.classList.remove(...classesEnd.filter(i => !originalClasses.includes(i)));\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n  function transition(el, stages, type, reject) {\n    const finish = once(() => {\n      stages.hide(); // Adding an \"isConnected\" check, in case the callback\n      // removed the element from the DOM.\n\n      if (el.isConnected) {\n        stages.cleanup();\n      }\n\n      delete el.__x_transition;\n    });\n    el.__x_transition = {\n      // Set transition type so we can avoid clearing transition if the direction is the same\n      type: type,\n      // create a callback for the last stages of the transition so we can call it\n      // from different point and early terminate it. Once will ensure that function\n      // is only called one time.\n      cancel: once(() => {\n        reject(TRANSITION_CANCELLED);\n        finish();\n      }),\n      finish,\n      // This store the next animation frame so we can cancel it\n      nextFrame: null\n    };\n    stages.start();\n    stages.during();\n    el.__x_transition.nextFrame = requestAnimationFrame(() => {\n      // Note: Safari's transitionDuration property will list out comma separated transition durations\n      // for every single transition property. Let's grab the first one and call it a day.\n      let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000;\n\n      if (duration === 0) {\n        duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000;\n      }\n\n      stages.show();\n      el.__x_transition.nextFrame = requestAnimationFrame(() => {\n        stages.end();\n        setTimeout(el.__x_transition.finish, duration);\n      });\n    });\n  }\n  function isNumeric(subject) {\n    return !Array.isArray(subject) && !isNaN(subject);\n  } // Thanks @vuejs\n  // https://github.com/vuejs/vue/blob/4de4649d9637262a9b007720b59f80ac72a5620c/src/shared/util.js\n\n  function once(callback) {\n    let called = false;\n    return function () {\n      if (!called) {\n        called = true;\n        callback.apply(this, arguments);\n      }\n    };\n  }\n\n  function handleForDirective(component, templateEl, expression, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(templateEl, 'x-for');\n    let iteratorNames = typeof expression === 'function' ? parseForExpression(component.evaluateReturnExpression(templateEl, expression)) : parseForExpression(expression);\n    let items = evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, templateEl, iteratorNames, extraVars); // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n\n    let currentEl = templateEl;\n    items.forEach((item, index) => {\n      let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items, extraVars());\n      let currentKey = generateKeyForIteration(component, templateEl, index, iterationScopeVariables);\n      let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey); // If we haven't found a matching key, insert the element at the current position.\n\n      if (!nextEl) {\n        nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl); // And transition it in if it's not the first page load.\n\n        transitionIn(nextEl, () => {}, () => {}, component, initialUpdate);\n        nextEl.__x_for = iterationScopeVariables;\n        component.initializeElements(nextEl, () => nextEl.__x_for); // Otherwise update the element we found.\n      } else {\n        // Temporarily remove the key indicator to allow the normal \"updateElements\" to work.\n        delete nextEl.__x_for_key;\n        nextEl.__x_for = iterationScopeVariables;\n        component.updateElements(nextEl, () => nextEl.__x_for);\n      }\n\n      currentEl = nextEl;\n      currentEl.__x_for_key = currentKey;\n    });\n    removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component);\n  } // This was taken from VueJS 2.* core. Thanks Vue!\n\n  function parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\n    let stripParensRE = /^\\(|\\)$/g;\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\n    let inMatch = expression.match(forAliasRE);\n    if (!inMatch) return;\n    let res = {};\n    res.items = inMatch[2].trim();\n    let item = inMatch[1].trim().replace(stripParensRE, '');\n    let iteratorMatch = item.match(forIteratorRE);\n\n    if (iteratorMatch) {\n      res.item = item.replace(forIteratorRE, '').trim();\n      res.index = iteratorMatch[1].trim();\n\n      if (iteratorMatch[2]) {\n        res.collection = iteratorMatch[2].trim();\n      }\n    } else {\n      res.item = item;\n    }\n\n    return res;\n  }\n\n  function getIterationScopeVariables(iteratorNames, item, index, items, extraVars) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = extraVars ? _objectSpread2({}, extraVars) : {};\n    scopeVariables[iteratorNames.item] = item;\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index;\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items;\n    return scopeVariables;\n  }\n\n  function generateKeyForIteration(component, el, index, iterationScopeVariables) {\n    let bindKeyAttribute = getXAttrs(el, component, 'bind').filter(attr => attr.value === 'key')[0]; // If the dev hasn't specified a key, just return the index of the iteration.\n\n    if (!bindKeyAttribute) return index;\n    return component.evaluateReturnExpression(el, bindKeyAttribute.expression, () => iterationScopeVariables);\n  }\n\n  function evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, el, iteratorNames, extraVars) {\n    let ifAttribute = getXAttrs(el, component, 'if')[0];\n\n    if (ifAttribute && !component.evaluateReturnExpression(el, ifAttribute.expression)) {\n      return [];\n    }\n\n    let items = component.evaluateReturnExpression(el, iteratorNames.items, extraVars); // This adds support for the `i in n` syntax.\n\n    if (isNumeric(items) && items > 0) {\n      items = Array.from(Array(items).keys(), i => i + 1);\n    }\n\n    return items;\n  }\n\n  function addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true);\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling);\n    return currentEl.nextElementSibling;\n  }\n\n  function lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (!nextEl) return; // If we are already past the x-for generated elements, we don't need to look ahead.\n\n    if (nextEl.__x_for_key === undefined) return; // If the the key's DO match, no need to look ahead.\n\n    if (nextEl.__x_for_key === currentKey) return nextEl; // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n\n    let tmpNextEl = nextEl;\n\n    while (tmpNextEl) {\n      if (tmpNextEl.__x_for_key === currentKey) {\n        return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl);\n      }\n\n      tmpNextEl = tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling.__x_for_key !== undefined ? tmpNextEl.nextElementSibling : false;\n    }\n  }\n\n  function removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component) {\n    var nextElementFromOldLoop = currentEl.nextElementSibling && currentEl.nextElementSibling.__x_for_key !== undefined ? currentEl.nextElementSibling : false;\n\n    while (nextElementFromOldLoop) {\n      let nextElementFromOldLoopImmutable = nextElementFromOldLoop;\n      let nextSibling = nextElementFromOldLoop.nextElementSibling;\n      transitionOut(nextElementFromOldLoop, () => {\n        nextElementFromOldLoopImmutable.remove();\n      }, () => {}, component);\n      nextElementFromOldLoop = nextSibling && nextSibling.__x_for_key !== undefined ? nextSibling : false;\n    }\n  }\n\n  function handleAttributeBindingDirective(component, el, attrName, expression, extraVars, attrType, modifiers) {\n    var value = component.evaluateReturnExpression(el, expression, extraVars);\n\n    if (attrName === 'value') {\n      if (Alpine.ignoreFocusedForValueBinding && document.activeElement.isSameNode(el)) return; // If nested model key is undefined, set the default value to empty string.\n\n      if (value === undefined && expression.match(/\\./)) {\n        value = '';\n      }\n\n      if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined && attrType === 'bind') {\n          el.value = value;\n        } else if (attrType !== 'bind') {\n          el.checked = checkedAttrLooseCompare(el.value, value);\n        }\n      } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (typeof value !== 'boolean' && ![null, undefined].includes(value) && attrType === 'bind') {\n          el.value = String(value);\n        } else if (attrType !== 'bind') {\n          if (Array.isArray(value)) {\n            // I'm purposely not using Array.includes here because it's\n            // strict, and because of Numeric/String mis-casting, I\n            // want the \"includes\" to be \"fuzzy\".\n            el.checked = value.some(val => checkedAttrLooseCompare(val, el.value));\n          } else {\n            el.checked = !!value;\n          }\n        }\n      } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value);\n      } else {\n        if (el.value === value) return;\n        el.value = value;\n      }\n    } else if (attrName === 'class') {\n      if (Array.isArray(value)) {\n        const originalClasses = el.__x_original_classes || [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(value)).join(' '));\n      } else if (typeof value === 'object') {\n        // Sorting the keys / class names by their boolean value will ensure that\n        // anything that evaluates to `false` and needs to remove classes is run first.\n        const keysSortedByBooleanValue = Object.keys(value).sort((a, b) => value[a] - value[b]);\n        keysSortedByBooleanValue.forEach(classNames => {\n          if (value[classNames]) {\n            convertClassStringToArray(classNames).forEach(className => el.classList.add(className));\n          } else {\n            convertClassStringToArray(classNames).forEach(className => el.classList.remove(className));\n          }\n        });\n      } else {\n        const originalClasses = el.__x_original_classes || [];\n        const newClasses = value ? convertClassStringToArray(value) : [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(newClasses)).join(' '));\n      }\n    } else {\n      attrName = modifiers.includes('camel') ? camelCase(attrName) : attrName; // If an attribute's bound value is null, undefined or false, remove the attribute\n\n      if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(attrName);\n      } else {\n        isBooleanAttr(attrName) ? setIfChanged(el, attrName, attrName) : setIfChanged(el, attrName, value);\n      }\n    }\n  }\n\n  function setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n      el.setAttribute(attrName, value);\n    }\n  }\n\n  function updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => {\n      return value + '';\n    });\n    Array.from(el.options).forEach(option => {\n      option.selected = arrayWrappedValue.includes(option.value || option.text);\n    });\n  }\n\n  function handleTextDirective(el, output, expression) {\n    // If nested model key is undefined, set the default value to empty string.\n    if (output === undefined && expression.match(/\\./)) {\n      output = '';\n    }\n\n    el.textContent = output;\n  }\n\n  function handleHtmlDirective(component, el, expression, extraVars) {\n    el.innerHTML = component.evaluateReturnExpression(el, expression, extraVars);\n  }\n\n  function handleShowDirective(component, el, value, modifiers, initialUpdate = false) {\n    const hide = () => {\n      el.style.display = 'none';\n      el.__x_is_shown = false;\n    };\n\n    const show = () => {\n      if (el.style.length === 1 && el.style.display === 'none') {\n        el.removeAttribute('style');\n      } else {\n        el.style.removeProperty('display');\n      }\n\n      el.__x_is_shown = true;\n    };\n\n    if (initialUpdate === true) {\n      if (value) {\n        show();\n      } else {\n        hide();\n      }\n\n      return;\n    }\n\n    const handle = (resolve, reject) => {\n      if (value) {\n        if (el.style.display === 'none' || el.__x_transition) {\n          transitionIn(el, () => {\n            show();\n          }, reject, component);\n        }\n\n        resolve(() => {});\n      } else {\n        if (el.style.display !== 'none') {\n          transitionOut(el, () => {\n            resolve(() => {\n              hide();\n            });\n          }, reject, component);\n        } else {\n          resolve(() => {});\n        }\n      }\n    }; // The working of x-show is a bit complex because we need to\n    // wait for any child transitions to finish before hiding\n    // some element. Also, this has to be done recursively.\n    // If x-show.immediate, foregoe the waiting.\n\n\n    if (modifiers.includes('immediate')) {\n      handle(finish => finish(), () => {});\n      return;\n    } // x-show is encountered during a DOM tree walk. If an element\n    // we encounter is NOT a child of another x-show element we\n    // can execute the previous x-show stack (if one exists).\n\n\n    if (component.showDirectiveLastElement && !component.showDirectiveLastElement.contains(el)) {\n      component.executeAndClearRemainingShowDirectiveStack();\n    }\n\n    component.showDirectiveStack.push(handle);\n    component.showDirectiveLastElement = el;\n  }\n\n  function handleIfDirective(component, el, expressionResult, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(el, 'x-if');\n    const elementHasAlreadyBeenAdded = el.nextElementSibling && el.nextElementSibling.__x_inserted_me === true;\n\n    if (expressionResult && (!elementHasAlreadyBeenAdded || el.__x_transition)) {\n      const clone = document.importNode(el.content, true);\n      el.parentElement.insertBefore(clone, el.nextElementSibling);\n      transitionIn(el.nextElementSibling, () => {}, () => {}, component, initialUpdate);\n      component.initializeElements(el.nextElementSibling, extraVars);\n      el.nextElementSibling.__x_inserted_me = true;\n    } else if (!expressionResult && elementHasAlreadyBeenAdded) {\n      transitionOut(el.nextElementSibling, () => {\n        el.nextElementSibling.remove();\n      }, () => {}, component, initialUpdate);\n    }\n  }\n\n  function registerListener(component, el, event, modifiers, expression, extraVars = {}) {\n    const options = {\n      passive: modifiers.includes('passive')\n    };\n\n    if (modifiers.includes('camel')) {\n      event = camelCase(event);\n    }\n\n    if (modifiers.includes('away')) {\n      let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return; // Don't do anything if this element isn't currently visible.\n\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return; // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n\n        runListenerHandler(component, expression, e, extraVars);\n\n        if (modifiers.includes('once')) {\n          document.removeEventListener(event, handler, options);\n        }\n      }; // Listen for this event at the root level.\n\n\n      document.addEventListener(event, handler, options);\n    } else {\n      let listenerTarget = modifiers.includes('window') ? window : modifiers.includes('document') ? document : el;\n\n      let handler = e => {\n        // Remove this global event handler if the element that declared it\n        // has been removed. It's now stale.\n        if (listenerTarget === window || listenerTarget === document) {\n          if (!document.body.contains(el)) {\n            listenerTarget.removeEventListener(event, handler, options);\n            return;\n          }\n        }\n\n        if (isKeyEvent(event)) {\n          if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n            return;\n          }\n        }\n\n        if (modifiers.includes('prevent')) e.preventDefault();\n        if (modifiers.includes('stop')) e.stopPropagation(); // If the .self modifier isn't present, or if it is present and\n        // the target element matches the element we are registering the\n        // event on, run the handler\n\n        if (!modifiers.includes('self') || e.target === el) {\n          const returnValue = runListenerHandler(component, expression, e, extraVars);\n          returnValue.then(value => {\n            if (value === false) {\n              e.preventDefault();\n            } else {\n              if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options);\n              }\n            }\n          });\n        }\n      };\n\n      if (modifiers.includes('debounce')) {\n        let nextModifier = modifiers[modifiers.indexOf('debounce') + 1] || 'invalid-wait';\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250;\n        handler = debounce(handler, wait);\n      }\n\n      listenerTarget.addEventListener(event, handler, options);\n    }\n  }\n\n  function runListenerHandler(component, expression, e, extraVars) {\n    return component.evaluateCommandExpression(e.target, expression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        '$event': e\n      });\n    });\n  }\n\n  function isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event);\n  }\n\n  function isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n      return !['window', 'document', 'prevent', 'stop'].includes(i);\n    });\n\n    if (keyModifiers.includes('debounce')) {\n      let debounceIndex = keyModifiers.indexOf('debounce');\n      keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || 'invalid-wait').split('ms')[0]) ? 2 : 1);\n    } // If no modifier is specified, we'll call it a press.\n\n\n    if (keyModifiers.length === 0) return false; // If one is passed, AND it matches the key pressed, we'll call it a press.\n\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false; // The user is listening for key combinations.\n\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super'];\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier));\n    keyModifiers = keyModifiers.filter(i => !selectedSystemKeyModifiers.includes(i));\n\n    if (selectedSystemKeyModifiers.length > 0) {\n      const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n        // Alias \"cmd\" and \"super\" to \"meta\"\n        if (modifier === 'cmd' || modifier === 'super') modifier = 'meta';\n        return e[`${modifier}Key`];\n      }); // If all the modifiers selected are pressed, ...\n\n      if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n        // AND the remaining key is pressed as well. It's a press.\n        if (keyModifiers[0] === keyToModifier(e.key)) return false;\n      }\n    } // We'll call it NOT a valid keypress.\n\n\n    return true;\n  }\n\n  function keyToModifier(key) {\n    switch (key) {\n      case '/':\n        return 'slash';\n\n      case ' ':\n      case 'Spacebar':\n        return 'space';\n\n      default:\n        return key && kebabCase(key);\n    }\n  }\n\n  function registerModelListener(component, el, modifiers, expression, extraVars) {\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = el.tagName.toLowerCase() === 'select' || ['checkbox', 'radio'].includes(el.type) || modifiers.includes('lazy') ? 'change' : 'input';\n    const listenerExpression = `${expression} = rightSideOfExpression($event, ${expression})`;\n    registerListener(component, el, event, modifiers, listenerExpression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        rightSideOfExpression: generateModelAssignmentFunction(el, modifiers, expression)\n      });\n    });\n  }\n\n  function generateModelAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n      // Radio buttons only work properly when they share a name attribute.\n      // People might assume we take care of that for them, because\n      // they already set a shared \"x-model\" attribute.\n      if (!el.hasAttribute('name')) el.setAttribute('name', expression);\n    }\n\n    return (event, currentValue) => {\n      // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n      if (event instanceof CustomEvent && event.detail) {\n        return event.detail;\n      } else if (el.type === 'checkbox') {\n        // If the data we are binding to is an array, toggle its value inside the array.\n        if (Array.isArray(currentValue)) {\n          const newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value;\n          return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => !checkedAttrLooseCompare(el, newValue));\n        } else {\n          return event.target.checked;\n        }\n      } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n        return modifiers.includes('number') ? Array.from(event.target.selectedOptions).map(option => {\n          const rawValue = option.value || option.text;\n          return safeParseNumber(rawValue);\n        }) : Array.from(event.target.selectedOptions).map(option => {\n          return option.value || option.text;\n        });\n      } else {\n        const rawValue = event.target.value;\n        return modifiers.includes('number') ? safeParseNumber(rawValue) : modifiers.includes('trim') ? rawValue.trim() : rawValue;\n      }\n    };\n  }\n\n  function safeParseNumber(rawValue) {\n    const number = rawValue ? parseFloat(rawValue) : null;\n    return isNumeric(number) ? number : rawValue;\n  }\n\n  /**\n   * Copyright (C) 2017 salesforce.com, inc.\n   */\n  const { isArray } = Array;\n  const { getPrototypeOf, create: ObjectCreate, defineProperty: ObjectDefineProperty, defineProperties: ObjectDefineProperties, isExtensible, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, preventExtensions, hasOwnProperty, } = Object;\n  const { push: ArrayPush, concat: ArrayConcat, map: ArrayMap, } = Array.prototype;\n  function isUndefined(obj) {\n      return obj === undefined;\n  }\n  function isFunction(obj) {\n      return typeof obj === 'function';\n  }\n  function isObject(obj) {\n      return typeof obj === 'object';\n  }\n  const proxyToValueMap = new WeakMap();\n  function registerProxy(proxy, value) {\n      proxyToValueMap.set(proxy, value);\n  }\n  const unwrap = (replicaOrAny) => proxyToValueMap.get(replicaOrAny) || replicaOrAny;\n\n  function wrapValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getProxy(value) : value;\n  }\n  /**\n   * Unwrap property descriptors will set value on original descriptor\n   * We only need to unwrap if value is specified\n   * @param descriptor external descrpitor provided to define new property on original value\n   */\n  function unwrapDescriptor(descriptor) {\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = unwrap(descriptor.value);\n      }\n      return descriptor;\n  }\n  function lockShadowTarget(membrane, shadowTarget, originalTarget) {\n      const targetKeys = ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      targetKeys.forEach((key) => {\n          let descriptor = getOwnPropertyDescriptor(originalTarget, key);\n          // We do not need to wrap the descriptor if configurable\n          // Because we can deal with wrapping it when user goes through\n          // Get own property descriptor. There is also a chance that this descriptor\n          // could change sometime in the future, so we can defer wrapping\n          // until we need to\n          if (!descriptor.configurable) {\n              descriptor = wrapDescriptor(membrane, descriptor, wrapValue);\n          }\n          ObjectDefineProperty(shadowTarget, key, descriptor);\n      });\n      preventExtensions(shadowTarget);\n  }\n  class ReactiveProxyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          const oldValue = originalTarget[key];\n          if (oldValue !== value) {\n              originalTarget[key] = value;\n              valueMutated(originalTarget, key);\n          }\n          else if (key === 'length' && isArray(originalTarget)) {\n              // fix for issue #236: push will add the new index, and by the time length\n              // is updated, the internal length is already equal to the new length value\n              // therefore, the oldValue is equal to the value. This is the forking logic\n              // to support this use case.\n              valueMutated(originalTarget, key);\n          }\n          return true;\n      }\n      deleteProperty(shadowTarget, key) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          delete originalTarget[key];\n          valueMutated(originalTarget, key);\n          return true;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      isExtensible(shadowTarget) {\n          const shadowIsExtensible = isExtensible(shadowTarget);\n          if (!shadowIsExtensible) {\n              return shadowIsExtensible;\n          }\n          const { originalTarget, membrane } = this;\n          const targetIsExtensible = isExtensible(originalTarget);\n          if (!targetIsExtensible) {\n              lockShadowTarget(membrane, shadowTarget, originalTarget);\n          }\n          return targetIsExtensible;\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getPrototypeOf(shadowTarget) {\n          const { originalTarget } = this;\n          return getPrototypeOf(originalTarget);\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = this.membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value, setter or getter (if available) cannot observe\n          // mutations, just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapValue);\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          const { originalTarget, membrane } = this;\n          lockShadowTarget(membrane, shadowTarget, originalTarget);\n          preventExtensions(originalTarget);\n          return true;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          const { originalTarget, membrane } = this;\n          const { valueMutated } = membrane;\n          const { configurable } = descriptor;\n          // We have to check for value in descriptor\n          // because Object.freeze(proxy) calls this method\n          // with only { configurable: false, writeable: false }\n          // Additionally, method will only be called with writeable:false\n          // if the descriptor has a value, as opposed to getter/setter\n          // So we can just check if writable is present and then see if\n          // value is present. This eliminates getter and setter descriptors\n          if (hasOwnProperty.call(descriptor, 'writable') && !hasOwnProperty.call(descriptor, 'value')) {\n              const originalDescriptor = getOwnPropertyDescriptor(originalTarget, key);\n              descriptor.value = originalDescriptor.value;\n          }\n          ObjectDefineProperty(originalTarget, key, unwrapDescriptor(descriptor));\n          if (configurable === false) {\n              ObjectDefineProperty(shadowTarget, key, wrapDescriptor(membrane, descriptor, wrapValue));\n          }\n          valueMutated(originalTarget, key);\n          return true;\n      }\n  }\n\n  function wrapReadOnlyValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getReadOnlyProxy(value) : value;\n  }\n  class ReadOnlyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { membrane, originalTarget } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getReadOnlyProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          return false;\n      }\n      deleteProperty(shadowTarget, key) {\n          return false;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value or getter (if available) cannot be observed,\n          // just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapReadOnlyValue);\n          if (hasOwnProperty.call(desc, 'set')) {\n              desc.set = undefined; // readOnly membrane does not allow setters\n          }\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          return false;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          return false;\n      }\n  }\n  function createShadowTarget(value) {\n      let shadowTarget = undefined;\n      if (isArray(value)) {\n          shadowTarget = [];\n      }\n      else if (isObject(value)) {\n          shadowTarget = {};\n      }\n      return shadowTarget;\n  }\n  const ObjectDotPrototype = Object.prototype;\n  function defaultValueIsObservable(value) {\n      // intentionally checking for null\n      if (value === null) {\n          return false;\n      }\n      // treat all non-object types, including undefined, as non-observable values\n      if (typeof value !== 'object') {\n          return false;\n      }\n      if (isArray(value)) {\n          return true;\n      }\n      const proto = getPrototypeOf(value);\n      return (proto === ObjectDotPrototype || proto === null || getPrototypeOf(proto) === null);\n  }\n  const defaultValueObserved = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueMutated = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueDistortion = (value) => value;\n  function wrapDescriptor(membrane, descriptor, getValue) {\n      const { set, get } = descriptor;\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = getValue(membrane, descriptor.value);\n      }\n      else {\n          if (!isUndefined(get)) {\n              descriptor.get = function () {\n                  // invoking the original getter with the original target\n                  return getValue(membrane, get.call(unwrap(this)));\n              };\n          }\n          if (!isUndefined(set)) {\n              descriptor.set = function (value) {\n                  // At this point we don't have a clear indication of whether\n                  // or not a valid mutation will occur, we don't have the key,\n                  // and we are not sure why and how they are invoking this setter.\n                  // Nevertheless we preserve the original semantics by invoking the\n                  // original setter with the original target and the unwrapped value\n                  set.call(unwrap(this), membrane.unwrapProxy(value));\n              };\n          }\n      }\n      return descriptor;\n  }\n  class ReactiveMembrane {\n      constructor(options) {\n          this.valueDistortion = defaultValueDistortion;\n          this.valueMutated = defaultValueMutated;\n          this.valueObserved = defaultValueObserved;\n          this.valueIsObservable = defaultValueIsObservable;\n          this.objectGraph = new WeakMap();\n          if (!isUndefined(options)) {\n              const { valueDistortion, valueMutated, valueObserved, valueIsObservable } = options;\n              this.valueDistortion = isFunction(valueDistortion) ? valueDistortion : defaultValueDistortion;\n              this.valueMutated = isFunction(valueMutated) ? valueMutated : defaultValueMutated;\n              this.valueObserved = isFunction(valueObserved) ? valueObserved : defaultValueObserved;\n              this.valueIsObservable = isFunction(valueIsObservable) ? valueIsObservable : defaultValueIsObservable;\n          }\n      }\n      getProxy(value) {\n          const unwrappedValue = unwrap(value);\n          const distorted = this.valueDistortion(unwrappedValue);\n          if (this.valueIsObservable(distorted)) {\n              const o = this.getReactiveState(unwrappedValue, distorted);\n              // when trying to extract the writable version of a readonly\n              // we return the readonly.\n              return o.readOnly === value ? value : o.reactive;\n          }\n          return distorted;\n      }\n      getReadOnlyProxy(value) {\n          value = unwrap(value);\n          const distorted = this.valueDistortion(value);\n          if (this.valueIsObservable(distorted)) {\n              return this.getReactiveState(value, distorted).readOnly;\n          }\n          return distorted;\n      }\n      unwrapProxy(p) {\n          return unwrap(p);\n      }\n      getReactiveState(value, distortedValue) {\n          const { objectGraph, } = this;\n          let reactiveState = objectGraph.get(distortedValue);\n          if (reactiveState) {\n              return reactiveState;\n          }\n          const membrane = this;\n          reactiveState = {\n              get reactive() {\n                  const reactiveHandler = new ReactiveProxyHandler(membrane, distortedValue);\n                  // caching the reactive proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), reactiveHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'reactive', { value: proxy });\n                  return proxy;\n              },\n              get readOnly() {\n                  const readOnlyHandler = new ReadOnlyHandler(membrane, distortedValue);\n                  // caching the readOnly proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), readOnlyHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'readOnly', { value: proxy });\n                  return proxy;\n              }\n          };\n          objectGraph.set(distortedValue, reactiveState);\n          return reactiveState;\n      }\n  }\n  /** version: 0.26.0 */\n\n  function wrap(data, mutationCallback) {\n\n    let membrane = new ReactiveMembrane({\n      valueMutated(target, key) {\n        mutationCallback(target, key);\n      }\n\n    });\n    return {\n      data: membrane.getProxy(data),\n      membrane: membrane\n    };\n  }\n  function unwrap$1(membrane, observable) {\n    let unwrappedData = membrane.unwrapProxy(observable);\n    let copy = {};\n    Object.keys(unwrappedData).forEach(key => {\n      if (['$el', '$refs', '$nextTick', '$watch'].includes(key)) return;\n      copy[key] = unwrappedData[key];\n    });\n    return copy;\n  }\n\n  class Component {\n    constructor(el, componentForClone = null) {\n      this.$el = el;\n      const dataAttr = this.$el.getAttribute('x-data');\n      const dataExpression = dataAttr === '' ? '{}' : dataAttr;\n      const initExpression = this.$el.getAttribute('x-init');\n      let dataExtras = {\n        $el: this.$el\n      };\n      let canonicalComponentElementReference = componentForClone ? componentForClone.$el : this.$el;\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(dataExtras, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference);\n          }\n        });\n      });\n      this.unobservedData = componentForClone ? componentForClone.getUnobservedData() : saferEval(el, dataExpression, dataExtras);\n      // Construct a Proxy-based observable. This will be used to handle reactivity.\n\n      let {\n        membrane,\n        data\n      } = this.wrapDataInObservable(this.unobservedData);\n      this.$data = data;\n      this.membrane = membrane; // After making user-supplied data methods reactive, we can now add\n      // our magic properties to the original data for access.\n\n      this.unobservedData.$el = this.$el;\n      this.unobservedData.$refs = this.getRefsProxy();\n      this.nextTickStack = [];\n\n      this.unobservedData.$nextTick = callback => {\n        this.nextTickStack.push(callback);\n      };\n\n      this.watchers = {};\n\n      this.unobservedData.$watch = (property, callback) => {\n        if (!this.watchers[property]) this.watchers[property] = [];\n        this.watchers[property].push(callback);\n      };\n      /* MODERN-ONLY:START */\n      // We remove this piece of code from the legacy build.\n      // In IE11, we have already defined our helpers at this point.\n      // Register custom magic properties.\n\n\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(this.unobservedData, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference, this.$el);\n          }\n        });\n      });\n      /* MODERN-ONLY:END */\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement;\n      componentForClone || Alpine.onBeforeComponentInitializeds.forEach(callback => callback(this));\n      var initReturnedCallback; // If x-init is present AND we aren't cloning (skip x-init on clone)\n\n      if (initExpression && !componentForClone) {\n        // We want to allow data manipulation, but not trigger DOM updates just yet.\n        // We haven't even initialized the elements with their Alpine bindings. I mean c'mon.\n        this.pauseReactivity = true;\n        initReturnedCallback = this.evaluateReturnExpression(this.$el, initExpression);\n        this.pauseReactivity = false;\n      } // Register all our listeners and set all our attribute bindings.\n\n\n      this.initializeElements(this.$el); // Use mutation observer to detect new elements being added within this component at run-time.\n      // Alpine's just so darn flexible amirite?\n\n      this.listenForNewElementsToInitialize();\n\n      if (typeof initReturnedCallback === 'function') {\n        // Run the callback returned from the \"x-init\" hook to allow the user to do stuff after\n        // Alpine's got it's grubby little paws all over everything.\n        initReturnedCallback.call(this.$data);\n      }\n\n      componentForClone || setTimeout(() => {\n        Alpine.onComponentInitializeds.forEach(callback => callback(this));\n      }, 0);\n    }\n\n    getUnobservedData() {\n      return unwrap$1(this.membrane, this.$data);\n    }\n\n    wrapDataInObservable(data) {\n      var self = this;\n      let updateDom = debounce(function () {\n        self.updateElements(self.$el);\n      }, 0);\n      return wrap(data, (target, key) => {\n        if (self.watchers[key]) {\n          // If there's a watcher for this specific key, run it.\n          self.watchers[key].forEach(callback => callback(target[key]));\n        } else if (Array.isArray(target)) {\n          // Arrays are special cases, if any of the items change, we consider the array as mutated.\n          Object.keys(self.watchers).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // Ignore length mutations since they would result in duplicate calls.\n            // For example, when calling push, we would get a mutation for the item's key\n            // and a second mutation for the length property.\n\n            if (key === 'length') return;\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData[part])) {\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } else {\n          // Let's walk through the watchers with \"dot-notation\" (foo.bar) and see\n          // if this mutation fits any of them.\n          Object.keys(self.watchers).filter(i => i.includes('.')).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // If this dot-notation watcher's last \"part\" doesn't match the current\n            // key, then skip it early for performance reasons.\n\n            if (key !== dotNotationParts[dotNotationParts.length - 1]) return; // Now, walk through the dot-notation \"parts\" recursively to find\n            // a match, and call the watcher if one's found.\n\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData)) {\n                // Run the watchers.\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target[key]));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } // Don't react to data changes for cases like the `x-created` hook.\n\n\n        if (self.pauseReactivity) return;\n        updateDom();\n      });\n    }\n\n    walkAndSkipNestedComponents(el, callback, initializeComponentCallback = () => {}) {\n      walk(el, el => {\n        // We've hit a component.\n        if (el.hasAttribute('x-data')) {\n          // If it's not the current one.\n          if (!el.isSameNode(this.$el)) {\n            // Initialize it if it's not.\n            if (!el.__x) initializeComponentCallback(el); // Now we'll let that sub-component deal with itself.\n\n            return false;\n          }\n        }\n\n        return callback(el);\n      });\n    }\n\n    initializeElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop\n        if (el.__x_for_key !== undefined) return false; // Don't touch spawns from if directives\n\n        if (el.__x_inserted_me !== undefined) return false;\n        this.initializeElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    initializeElement(el, extraVars) {\n      // To support class attribute merging, we have to know what the element's\n      // original class attribute looked like for reference.\n      if (el.hasAttribute('class') && getXAttrs(el, this).length > 0) {\n        el.__x_original_classes = convertClassStringToArray(el.getAttribute('class'));\n      }\n\n      this.registerListeners(el, extraVars);\n      this.resolveBoundAttributes(el, true, extraVars);\n    }\n\n    updateElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop (and check if the root is actually a for loop in a parent, don't skip it.)\n        if (el.__x_for_key !== undefined && !el.isSameNode(this.$el)) return false;\n        this.updateElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    executeAndClearNextTickStack(el) {\n      // Skip spawns from alpine directives\n      if (el === this.$el && this.nextTickStack.length > 0) {\n        // We run the tick stack after the next frame to allow any\n        // running transitions to pass the initial show stage.\n        requestAnimationFrame(() => {\n          while (this.nextTickStack.length > 0) {\n            this.nextTickStack.shift()();\n          }\n        });\n      }\n    }\n\n    executeAndClearRemainingShowDirectiveStack() {\n      // The goal here is to start all the x-show transitions\n      // and build a nested promise chain so that elements\n      // only hide when the children are finished hiding.\n      this.showDirectiveStack.reverse().map(handler => {\n        return new Promise((resolve, reject) => {\n          handler(resolve, reject);\n        });\n      }).reduce((promiseChain, promise) => {\n        return promiseChain.then(() => {\n          return promise.then(finishElement => {\n            finishElement();\n          });\n        });\n      }, Promise.resolve(() => {})).catch(e => {\n        if (e !== TRANSITION_CANCELLED) throw e;\n      }); // We've processed the handler stack. let's clear it.\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement = undefined;\n    }\n\n    updateElement(el, extraVars) {\n      this.resolveBoundAttributes(el, false, extraVars);\n    }\n\n    registerListeners(el, extraVars) {\n      getXAttrs(el, this).forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'on':\n            registerListener(this, el, value, modifiers, expression, extraVars);\n            break;\n\n          case 'model':\n            registerModelListener(this, el, modifiers, expression, extraVars);\n            break;\n        }\n      });\n    }\n\n    resolveBoundAttributes(el, initialUpdate = false, extraVars) {\n      let attrs = getXAttrs(el, this);\n      attrs.forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'model':\n            handleAttributeBindingDirective(this, el, 'value', expression, extraVars, type, modifiers);\n            break;\n\n          case 'bind':\n            // The :key binding on an x-for is special, ignore it.\n            if (el.tagName.toLowerCase() === 'template' && value === 'key') return;\n            handleAttributeBindingDirective(this, el, value, expression, extraVars, type, modifiers);\n            break;\n\n          case 'text':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleTextDirective(el, output, expression);\n            break;\n\n          case 'html':\n            handleHtmlDirective(this, el, expression, extraVars);\n            break;\n\n          case 'show':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleShowDirective(this, el, output, modifiers, initialUpdate);\n            break;\n\n          case 'if':\n            // If this element also has x-for on it, don't process x-if.\n            // We will let the \"x-for\" directive handle the \"if\"ing.\n            if (attrs.some(i => i.type === 'for')) return;\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleIfDirective(this, el, output, initialUpdate, extraVars);\n            break;\n\n          case 'for':\n            handleForDirective(this, el, expression, initialUpdate, extraVars);\n            break;\n\n          case 'cloak':\n            el.removeAttribute('x-cloak');\n            break;\n        }\n      });\n    }\n\n    evaluateReturnExpression(el, expression, extraVars = () => {}) {\n      return saferEval(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    evaluateCommandExpression(el, expression, extraVars = () => {}) {\n      return saferEvalNoReturn(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    getDispatchFunction(el) {\n      return (event, detail = {}) => {\n        el.dispatchEvent(new CustomEvent(event, {\n          detail,\n          bubbles: true\n        }));\n      };\n    }\n\n    listenForNewElementsToInitialize() {\n      const targetNode = this.$el;\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        for (let i = 0; i < mutations.length; i++) {\n          // Filter out mutations triggered from child components.\n          const closestParentComponent = mutations[i].target.closest('[x-data]');\n          if (!(closestParentComponent && closestParentComponent.isSameNode(this.$el))) continue;\n\n          if (mutations[i].type === 'attributes' && mutations[i].attributeName === 'x-data') {\n            const xAttr = mutations[i].target.getAttribute('x-data') || '{}';\n            const rawData = saferEval(this.$el, xAttr, {\n              $el: this.$el\n            });\n            Object.keys(rawData).forEach(key => {\n              if (this.$data[key] !== rawData[key]) {\n                this.$data[key] = rawData[key];\n              }\n            });\n          }\n\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              if (node.nodeType !== 1 || node.__x_inserted_me) return;\n\n              if (node.matches('[x-data]') && !node.__x) {\n                node.__x = new Component(node);\n                return;\n              }\n\n              this.initializeElements(node);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    }\n\n    getRefsProxy() {\n      var self = this;\n      var refObj = {};\n      // One of the goals of this is to not hold elements in memory, but rather re-evaluate\n      // the DOM when the system needs something from it. This way, the framework is flexible and\n      // friendly to outside DOM changes from libraries like Vue/Livewire.\n      // For this reason, I'm using an \"on-demand\" proxy to fake a \"$refs\" object.\n\n      return new Proxy(refObj, {\n        get(object, property) {\n          if (property === '$isAlpineProxy') return true;\n          var ref; // We can't just query the DOM because it's hard to filter out refs in\n          // nested components.\n\n          self.walkAndSkipNestedComponents(self.$el, el => {\n            if (el.hasAttribute('x-ref') && el.getAttribute('x-ref') === property) {\n              ref = el;\n            }\n          });\n          return ref;\n        }\n\n      });\n    }\n\n  }\n\n  const Alpine = {\n    version: \"2.8.0\",\n    pauseMutationObserver: false,\n    magicProperties: {},\n    onComponentInitializeds: [],\n    onBeforeComponentInitializeds: [],\n    ignoreFocusedForValueBinding: false,\n    start: async function start() {\n      if (!isTesting()) {\n        await domReady();\n      }\n\n      this.discoverComponents(el => {\n        this.initializeComponent(el);\n      }); // It's easier and more performant to just support Turbolinks than listen\n      // to MutationObserver mutations at the document level.\n\n      document.addEventListener(\"turbolinks:load\", () => {\n        this.discoverUninitializedComponents(el => {\n          this.initializeComponent(el);\n        });\n      });\n      this.listenForNewUninitializedComponentsAtRunTime();\n    },\n    discoverComponents: function discoverComponents(callback) {\n      const rootEls = document.querySelectorAll('[x-data]');\n      rootEls.forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    discoverUninitializedComponents: function discoverUninitializedComponents(callback, el = null) {\n      const rootEls = (el || document).querySelectorAll('[x-data]');\n      Array.from(rootEls).filter(el => el.__x === undefined).forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    listenForNewUninitializedComponentsAtRunTime: function listenForNewUninitializedComponentsAtRunTime() {\n      const targetNode = document.querySelector('body');\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        if (this.pauseMutationObserver) return;\n\n        for (let i = 0; i < mutations.length; i++) {\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              // Discard non-element nodes (like line-breaks)\n              if (node.nodeType !== 1) return; // Discard any changes happening within an existing component.\n              // They will take care of themselves.\n\n              if (node.parentElement && node.parentElement.closest('[x-data]')) return;\n              this.discoverUninitializedComponents(el => {\n                this.initializeComponent(el);\n              }, node.parentElement);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    },\n    initializeComponent: function initializeComponent(el) {\n      if (!el.__x) {\n        // Wrap in a try/catch so that we don't prevent other components\n        // from initializing when one component contains an error.\n        try {\n          el.__x = new Component(el);\n        } catch (error) {\n          setTimeout(() => {\n            throw error;\n          }, 0);\n        }\n      }\n    },\n    clone: function clone(component, newEl) {\n      if (!newEl.__x) {\n        newEl.__x = new Component(newEl, component);\n      }\n    },\n    addMagicProperty: function addMagicProperty(name, callback) {\n      this.magicProperties[name] = callback;\n    },\n    onComponentInitialized: function onComponentInitialized(callback) {\n      this.onComponentInitializeds.push(callback);\n    },\n    onBeforeComponentInitialized: function onBeforeComponentInitialized(callback) {\n      this.onBeforeComponentInitializeds.push(callback);\n    }\n  };\n\n  if (!isTesting()) {\n    window.Alpine = Alpine;\n\n    if (window.deferLoadingAlpine) {\n      window.deferLoadingAlpine(function () {\n        window.Alpine.start();\n      });\n    } else {\n      window.Alpine.start();\n    }\n  }\n\n  return Alpine;\n\n})));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/*\nTurbo 7.0.0-beta.4\nCopyright © 2021 Basecamp, LLC\n */\n(function () {\n    if (window.Reflect === undefined || window.customElements === undefined ||\n        window.customElements.polyfillWrapFlushCallback) {\n        return;\n    }\n    const BuiltInHTMLElement = HTMLElement;\n    const wrapperForTheName = {\n        'HTMLElement': function HTMLElement() {\n            return Reflect.construct(BuiltInHTMLElement, [], this.constructor);\n        }\n    };\n    window.HTMLElement =\n        wrapperForTheName['HTMLElement'];\n    HTMLElement.prototype = BuiltInHTMLElement.prototype;\n    HTMLElement.prototype.constructor = HTMLElement;\n    Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n\nconst submittersByForm = new WeakMap;\nfunction findSubmitterFromClickTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    const candidate = element ? element.closest(\"input, button\") : null;\n    return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == \"submit\" ? candidate : null;\n}\nfunction clickCaptured(event) {\n    const submitter = findSubmitterFromClickTarget(event.target);\n    if (submitter && submitter.form) {\n        submittersByForm.set(submitter.form, submitter);\n    }\n}\n(function () {\n    if (\"SubmitEvent\" in window)\n        return;\n    addEventListener(\"click\", clickCaptured, true);\n    Object.defineProperty(Event.prototype, \"submitter\", {\n        get() {\n            if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n                return submittersByForm.get(this.target);\n            }\n        }\n    });\n})();\n\nvar FrameLoadingStyle;\n(function (FrameLoadingStyle) {\n    FrameLoadingStyle[\"eager\"] = \"eager\";\n    FrameLoadingStyle[\"lazy\"] = \"lazy\";\n})(FrameLoadingStyle || (FrameLoadingStyle = {}));\nclass FrameElement extends HTMLElement {\n    constructor() {\n        super();\n        this.loaded = Promise.resolve();\n        this.delegate = new FrameElement.delegateConstructor(this);\n    }\n    static get observedAttributes() {\n        return [\"loading\", \"src\"];\n    }\n    connectedCallback() {\n        this.delegate.connect();\n    }\n    disconnectedCallback() {\n        this.delegate.disconnect();\n    }\n    attributeChangedCallback(name) {\n        if (name == \"loading\") {\n            this.delegate.loadingStyleChanged();\n        }\n        else if (name == \"src\") {\n            this.delegate.sourceURLChanged();\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\");\n    }\n    set src(value) {\n        if (value) {\n            this.setAttribute(\"src\", value);\n        }\n        else {\n            this.removeAttribute(\"src\");\n        }\n    }\n    get loading() {\n        return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\");\n    }\n    set loading(value) {\n        if (value) {\n            this.setAttribute(\"loading\", value);\n        }\n        else {\n            this.removeAttribute(\"loading\");\n        }\n    }\n    get disabled() {\n        return this.hasAttribute(\"disabled\");\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute(\"disabled\", \"\");\n        }\n        else {\n            this.removeAttribute(\"disabled\");\n        }\n    }\n    get autoscroll() {\n        return this.hasAttribute(\"autoscroll\");\n    }\n    set autoscroll(value) {\n        if (value) {\n            this.setAttribute(\"autoscroll\", \"\");\n        }\n        else {\n            this.removeAttribute(\"autoscroll\");\n        }\n    }\n    get complete() {\n        return !this.delegate.isLoading;\n    }\n    get isActive() {\n        return this.ownerDocument === document && !this.isPreview;\n    }\n    get isPreview() {\n        var _a, _b;\n        return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(\"data-turbo-preview\");\n    }\n}\nfunction frameLoadingStyleFromString(style) {\n    switch (style.toLowerCase()) {\n        case \"lazy\": return FrameLoadingStyle.lazy;\n        default: return FrameLoadingStyle.eager;\n    }\n}\n\nfunction expandURL(locatable) {\n    const anchor = document.createElement(\"a\");\n    anchor.href = locatable.toString();\n    return new URL(anchor.href);\n}\nfunction getAnchor(url) {\n    let anchorMatch;\n    if (url.hash) {\n        return url.hash.slice(1);\n    }\n    else if (anchorMatch = url.href.match(/#(.*)$/)) {\n        return anchorMatch[1];\n    }\n    else {\n        return \"\";\n    }\n}\nfunction getExtension(url) {\n    return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\";\n}\nfunction isHTML(url) {\n    return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml))$/);\n}\nfunction isPrefixedBy(baseURL, url) {\n    const prefix = getPrefix(url);\n    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);\n}\nfunction toCacheKey(url) {\n    const anchorLength = url.hash.length;\n    if (anchorLength < 2) {\n        return url.href;\n    }\n    else {\n        return url.href.slice(0, -anchorLength);\n    }\n}\nfunction getPathComponents(url) {\n    return url.pathname.split(\"/\").slice(1);\n}\nfunction getLastPathComponent(url) {\n    return getPathComponents(url).slice(-1)[0];\n}\nfunction getPrefix(url) {\n    return addTrailingSlash(url.origin + url.pathname);\n}\nfunction addTrailingSlash(value) {\n    return value.endsWith(\"/\") ? value : value + \"/\";\n}\n\nclass FetchResponse {\n    constructor(response) {\n        this.response = response;\n    }\n    get succeeded() {\n        return this.response.ok;\n    }\n    get failed() {\n        return !this.succeeded;\n    }\n    get clientError() {\n        return this.statusCode >= 400 && this.statusCode <= 499;\n    }\n    get serverError() {\n        return this.statusCode >= 500 && this.statusCode <= 599;\n    }\n    get redirected() {\n        return this.response.redirected;\n    }\n    get location() {\n        return expandURL(this.response.url);\n    }\n    get isHTML() {\n        return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/);\n    }\n    get statusCode() {\n        return this.response.status;\n    }\n    get contentType() {\n        return this.header(\"Content-Type\");\n    }\n    get responseText() {\n        return this.response.text();\n    }\n    get responseHTML() {\n        if (this.isHTML) {\n            return this.response.text();\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    header(name) {\n        return this.response.headers.get(name);\n    }\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n    const event = new CustomEvent(eventName, { cancelable, bubbles: true, detail });\n    void (target || document.documentElement).dispatchEvent(event);\n    return event;\n}\nfunction nextAnimationFrame() {\n    return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}\nfunction nextEventLoopTick() {\n    return new Promise(resolve => setTimeout(() => resolve(), 0));\n}\nfunction nextMicrotask() {\n    return Promise.resolve();\n}\nfunction parseHTMLDocument(html = \"\") {\n    return new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction unindent(strings, ...values) {\n    const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n    const match = lines[0].match(/^\\s+/);\n    const indent = match ? match[0].length : 0;\n    return lines.map(line => line.slice(indent)).join(\"\\n\");\n}\nfunction interpolate(strings, values) {\n    return strings.reduce((result, string, i) => {\n        const value = values[i] == undefined ? \"\" : values[i];\n        return result + string + value;\n    }, \"\");\n}\nfunction uuid() {\n    return Array.apply(null, { length: 36 }).map((_, i) => {\n        if (i == 8 || i == 13 || i == 18 || i == 23) {\n            return \"-\";\n        }\n        else if (i == 14) {\n            return \"4\";\n        }\n        else if (i == 19) {\n            return (Math.floor(Math.random() * 4) + 8).toString(16);\n        }\n        else {\n            return Math.floor(Math.random() * 15).toString(16);\n        }\n    }).join(\"\");\n}\n\nvar FetchMethod;\n(function (FetchMethod) {\n    FetchMethod[FetchMethod[\"get\"] = 0] = \"get\";\n    FetchMethod[FetchMethod[\"post\"] = 1] = \"post\";\n    FetchMethod[FetchMethod[\"put\"] = 2] = \"put\";\n    FetchMethod[FetchMethod[\"patch\"] = 3] = \"patch\";\n    FetchMethod[FetchMethod[\"delete\"] = 4] = \"delete\";\n})(FetchMethod || (FetchMethod = {}));\nfunction fetchMethodFromString(method) {\n    switch (method.toLowerCase()) {\n        case \"get\": return FetchMethod.get;\n        case \"post\": return FetchMethod.post;\n        case \"put\": return FetchMethod.put;\n        case \"patch\": return FetchMethod.patch;\n        case \"delete\": return FetchMethod.delete;\n    }\n}\nclass FetchRequest {\n    constructor(delegate, method, location, body = new URLSearchParams) {\n        this.abortController = new AbortController;\n        this.delegate = delegate;\n        this.method = method;\n        if (this.isIdempotent) {\n            this.url = mergeFormDataEntries(location, [...body.entries()]);\n        }\n        else {\n            this.body = body;\n            this.url = location;\n        }\n    }\n    get location() {\n        return this.url;\n    }\n    get params() {\n        return this.url.searchParams;\n    }\n    get entries() {\n        return this.body ? Array.from(this.body.entries()) : [];\n    }\n    cancel() {\n        this.abortController.abort();\n    }\n    async perform() {\n        const { fetchOptions } = this;\n        dispatch(\"turbo:before-fetch-request\", { detail: { fetchOptions } });\n        try {\n            this.delegate.requestStarted(this);\n            const response = await fetch(this.url.href, fetchOptions);\n            return await this.receive(response);\n        }\n        catch (error) {\n            this.delegate.requestErrored(this, error);\n            throw error;\n        }\n        finally {\n            this.delegate.requestFinished(this);\n        }\n    }\n    async receive(response) {\n        const fetchResponse = new FetchResponse(response);\n        const event = dispatch(\"turbo:before-fetch-response\", { cancelable: true, detail: { fetchResponse } });\n        if (event.defaultPrevented) {\n            this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n        }\n        else if (fetchResponse.succeeded) {\n            this.delegate.requestSucceededWithResponse(this, fetchResponse);\n        }\n        else {\n            this.delegate.requestFailedWithResponse(this, fetchResponse);\n        }\n        return fetchResponse;\n    }\n    get fetchOptions() {\n        return {\n            method: FetchMethod[this.method].toUpperCase(),\n            credentials: \"same-origin\",\n            headers: this.headers,\n            redirect: \"follow\",\n            body: this.body,\n            signal: this.abortSignal\n        };\n    }\n    get isIdempotent() {\n        return this.method == FetchMethod.get;\n    }\n    get headers() {\n        const headers = Object.assign({}, this.defaultHeaders);\n        if (typeof this.delegate.prepareHeadersForRequest == \"function\") {\n            this.delegate.prepareHeadersForRequest(headers, this);\n        }\n        return headers;\n    }\n    get abortSignal() {\n        return this.abortController.signal;\n    }\n    get defaultHeaders() {\n        return {\n            \"Accept\": \"text/html, application/xhtml+xml\"\n        };\n    }\n}\nfunction mergeFormDataEntries(url, entries) {\n    const currentSearchParams = new URLSearchParams(url.search);\n    for (const [name, value] of entries) {\n        if (value instanceof File)\n            continue;\n        if (currentSearchParams.has(name)) {\n            currentSearchParams.delete(name);\n            url.searchParams.set(name, value);\n        }\n        else {\n            url.searchParams.append(name, value);\n        }\n    }\n    return url;\n}\n\nclass AppearanceObserver {\n    constructor(delegate, element) {\n        this.started = false;\n        this.intersect = entries => {\n            const lastEntry = entries.slice(-1)[0];\n            if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {\n                this.delegate.elementAppearedInViewport(this.element);\n            }\n        };\n        this.delegate = delegate;\n        this.element = element;\n        this.intersectionObserver = new IntersectionObserver(this.intersect);\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.intersectionObserver.observe(this.element);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.intersectionObserver.unobserve(this.element);\n        }\n    }\n}\n\nclass StreamMessage {\n    constructor(html) {\n        this.templateElement = document.createElement(\"template\");\n        this.templateElement.innerHTML = html;\n    }\n    static wrap(message) {\n        if (typeof message == \"string\") {\n            return new this(message);\n        }\n        else {\n            return message;\n        }\n    }\n    get fragment() {\n        const fragment = document.createDocumentFragment();\n        for (const element of this.foreignElements) {\n            fragment.appendChild(document.importNode(element, true));\n        }\n        return fragment;\n    }\n    get foreignElements() {\n        return this.templateChildren.reduce((streamElements, child) => {\n            if (child.tagName.toLowerCase() == \"turbo-stream\") {\n                return [...streamElements, child];\n            }\n            else {\n                return streamElements;\n            }\n        }, []);\n    }\n    get templateChildren() {\n        return Array.from(this.templateElement.content.children);\n    }\n}\nStreamMessage.contentType = \"text/vnd.turbo-stream.html\";\n\nvar FormSubmissionState;\n(function (FormSubmissionState) {\n    FormSubmissionState[FormSubmissionState[\"initialized\"] = 0] = \"initialized\";\n    FormSubmissionState[FormSubmissionState[\"requesting\"] = 1] = \"requesting\";\n    FormSubmissionState[FormSubmissionState[\"waiting\"] = 2] = \"waiting\";\n    FormSubmissionState[FormSubmissionState[\"receiving\"] = 3] = \"receiving\";\n    FormSubmissionState[FormSubmissionState[\"stopping\"] = 4] = \"stopping\";\n    FormSubmissionState[FormSubmissionState[\"stopped\"] = 5] = \"stopped\";\n})(FormSubmissionState || (FormSubmissionState = {}));\nvar FormEnctype;\n(function (FormEnctype) {\n    FormEnctype[\"urlEncoded\"] = \"application/x-www-form-urlencoded\";\n    FormEnctype[\"multipart\"] = \"multipart/form-data\";\n    FormEnctype[\"plain\"] = \"text/plain\";\n})(FormEnctype || (FormEnctype = {}));\nfunction formEnctypeFromString(encoding) {\n    switch (encoding.toLowerCase()) {\n        case FormEnctype.multipart: return FormEnctype.multipart;\n        case FormEnctype.plain: return FormEnctype.plain;\n        default: return FormEnctype.urlEncoded;\n    }\n}\nclass FormSubmission {\n    constructor(delegate, formElement, submitter, mustRedirect = false) {\n        this.state = FormSubmissionState.initialized;\n        this.delegate = delegate;\n        this.formElement = formElement;\n        this.submitter = submitter;\n        this.formData = buildFormData(formElement, submitter);\n        this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body);\n        this.mustRedirect = mustRedirect;\n    }\n    get method() {\n        var _a;\n        const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formmethod\")) || this.formElement.getAttribute(\"method\") || \"\";\n        return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;\n    }\n    get action() {\n        var _a;\n        return ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formaction\")) || this.formElement.action;\n    }\n    get location() {\n        return expandURL(this.action);\n    }\n    get body() {\n        if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {\n            return new URLSearchParams(this.stringFormData);\n        }\n        else {\n            return this.formData;\n        }\n    }\n    get enctype() {\n        var _a;\n        return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formenctype\")) || this.formElement.enctype);\n    }\n    get stringFormData() {\n        return [...this.formData].reduce((entries, [name, value]) => {\n            return entries.concat(typeof value == \"string\" ? [[name, value]] : []);\n        }, []);\n    }\n    async start() {\n        const { initialized, requesting } = FormSubmissionState;\n        if (this.state == initialized) {\n            this.state = requesting;\n            return this.fetchRequest.perform();\n        }\n    }\n    stop() {\n        const { stopping, stopped } = FormSubmissionState;\n        if (this.state != stopping && this.state != stopped) {\n            this.state = stopping;\n            this.fetchRequest.cancel();\n            return true;\n        }\n    }\n    prepareHeadersForRequest(headers, request) {\n        if (!request.isIdempotent) {\n            const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n            if (token) {\n                headers[\"X-CSRF-Token\"] = token;\n            }\n            headers[\"Accept\"] = [StreamMessage.contentType, headers[\"Accept\"]].join(\", \");\n        }\n    }\n    requestStarted(request) {\n        this.state = FormSubmissionState.waiting;\n        dispatch(\"turbo:submit-start\", { target: this.formElement, detail: { formSubmission: this } });\n        this.delegate.formSubmissionStarted(this);\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.result = { success: response.succeeded, fetchResponse: response };\n    }\n    requestSucceededWithResponse(request, response) {\n        if (response.clientError || response.serverError) {\n            this.delegate.formSubmissionFailedWithResponse(this, response);\n        }\n        else if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n            const error = new Error(\"Form responses must redirect to another location\");\n            this.delegate.formSubmissionErrored(this, error);\n        }\n        else {\n            this.state = FormSubmissionState.receiving;\n            this.result = { success: true, fetchResponse: response };\n            this.delegate.formSubmissionSucceededWithResponse(this, response);\n        }\n    }\n    requestFailedWithResponse(request, response) {\n        this.result = { success: false, fetchResponse: response };\n        this.delegate.formSubmissionFailedWithResponse(this, response);\n    }\n    requestErrored(request, error) {\n        this.result = { success: false, error };\n        this.delegate.formSubmissionErrored(this, error);\n    }\n    requestFinished(request) {\n        this.state = FormSubmissionState.stopped;\n        dispatch(\"turbo:submit-end\", { target: this.formElement, detail: Object.assign({ formSubmission: this }, this.result) });\n        this.delegate.formSubmissionFinished(this);\n    }\n    requestMustRedirect(request) {\n        return !request.isIdempotent && this.mustRedirect;\n    }\n}\nfunction buildFormData(formElement, submitter) {\n    const formData = new FormData(formElement);\n    const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"name\");\n    const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"value\");\n    if (name && formData.get(name) != value) {\n        formData.append(name, value || \"\");\n    }\n    return formData;\n}\nfunction getCookieValue(cookieName) {\n    if (cookieName != null) {\n        const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n        const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n        if (cookie) {\n            const value = cookie.split(\"=\").slice(1).join(\"=\");\n            return value ? decodeURIComponent(value) : undefined;\n        }\n    }\n}\nfunction getMetaContent(name) {\n    const element = document.querySelector(`meta[name=\"${name}\"]`);\n    return element && element.content;\n}\nfunction responseSucceededWithoutRedirect(response) {\n    return response.statusCode == 200 && !response.redirected;\n}\n\nclass Snapshot {\n    constructor(element) {\n        this.element = element;\n    }\n    get children() {\n        return [...this.element.children];\n    }\n    hasAnchor(anchor) {\n        return this.getElementForAnchor(anchor) != null;\n    }\n    getElementForAnchor(anchor) {\n        try {\n            return this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`);\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    get firstAutofocusableElement() {\n        return this.element.querySelector(\"[autofocus]\");\n    }\n    get permanentElements() {\n        return [...this.element.querySelectorAll(\"[id][data-turbo-permanent]\")];\n    }\n    getPermanentElementById(id) {\n        return this.element.querySelector(`#${id}[data-turbo-permanent]`);\n    }\n    getPermanentElementsPresentInSnapshot(snapshot) {\n        return this.permanentElements.filter(({ id }) => snapshot.getPermanentElementById(id));\n    }\n}\n\nclass FormInterceptor {\n    constructor(delegate, element) {\n        this.submitBubbled = ((event) => {\n            if (event.target instanceof HTMLFormElement) {\n                const form = event.target;\n                const submitter = event.submitter || undefined;\n                if (this.delegate.shouldInterceptFormSubmission(form, submitter)) {\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    this.delegate.formSubmissionIntercepted(form, submitter);\n                }\n            }\n        });\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"submit\", this.submitBubbled);\n    }\n    stop() {\n        this.element.removeEventListener(\"submit\", this.submitBubbled);\n    }\n}\n\nclass View {\n    constructor(delegate, element) {\n        this.delegate = delegate;\n        this.element = element;\n    }\n    scrollToAnchor(anchor) {\n        const element = this.snapshot.getElementForAnchor(anchor);\n        if (element) {\n            this.scrollToElement(element);\n        }\n        else {\n            this.scrollToPosition({ x: 0, y: 0 });\n        }\n    }\n    scrollToElement(element) {\n        element.scrollIntoView();\n    }\n    scrollToPosition({ x, y }) {\n        this.scrollRoot.scrollTo(x, y);\n    }\n    get scrollRoot() {\n        return window;\n    }\n    async render(renderer) {\n        if (this.renderer) {\n            throw new Error(\"rendering is already in progress\");\n        }\n        const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;\n        if (shouldRender) {\n            try {\n                this.renderer = renderer;\n                this.prepareToRenderSnapshot(renderer);\n                this.delegate.viewWillRenderSnapshot(snapshot, isPreview);\n                await this.renderSnapshot(renderer);\n                this.delegate.viewRenderedSnapshot(snapshot, isPreview);\n                this.finishRenderingSnapshot(renderer);\n            }\n            finally {\n                delete this.renderer;\n            }\n        }\n        else {\n            this.invalidate();\n        }\n    }\n    invalidate() {\n        this.delegate.viewInvalidated();\n    }\n    prepareToRenderSnapshot(renderer) {\n        this.markAsPreview(renderer.isPreview);\n        renderer.prepareToRender();\n    }\n    markAsPreview(isPreview) {\n        if (isPreview) {\n            this.element.setAttribute(\"data-turbo-preview\", \"\");\n        }\n        else {\n            this.element.removeAttribute(\"data-turbo-preview\");\n        }\n    }\n    async renderSnapshot(renderer) {\n        await renderer.render();\n    }\n    finishRenderingSnapshot(renderer) {\n        renderer.finishRendering();\n    }\n}\n\nclass FrameView extends View {\n    invalidate() {\n        this.element.innerHTML = \"\";\n    }\n    get snapshot() {\n        return new Snapshot(this.element);\n    }\n}\n\nclass LinkInterceptor {\n    constructor(delegate, element) {\n        this.clickBubbled = (event) => {\n            if (this.respondsToEventTarget(event.target)) {\n                this.clickEvent = event;\n            }\n            else {\n                delete this.clickEvent;\n            }\n        };\n        this.linkClicked = ((event) => {\n            if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n                if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url)) {\n                    this.clickEvent.preventDefault();\n                    event.preventDefault();\n                    this.delegate.linkClickIntercepted(event.target, event.detail.url);\n                }\n            }\n            delete this.clickEvent;\n        });\n        this.willVisit = () => {\n            delete this.clickEvent;\n        };\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"click\", this.clickBubbled);\n        document.addEventListener(\"turbo:click\", this.linkClicked);\n        document.addEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    stop() {\n        this.element.removeEventListener(\"click\", this.clickBubbled);\n        document.removeEventListener(\"turbo:click\", this.linkClicked);\n        document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    respondsToEventTarget(target) {\n        const element = target instanceof Element\n            ? target\n            : target instanceof Node\n                ? target.parentElement\n                : null;\n        return element && element.closest(\"turbo-frame, html\") == this.element;\n    }\n}\n\nclass Renderer {\n    constructor(currentSnapshot, newSnapshot, isPreview) {\n        this.currentSnapshot = currentSnapshot;\n        this.newSnapshot = newSnapshot;\n        this.isPreview = isPreview;\n        this.promise = new Promise((resolve, reject) => this.resolvingFunctions = { resolve, reject });\n    }\n    get shouldRender() {\n        return true;\n    }\n    prepareToRender() {\n        return;\n    }\n    finishRendering() {\n        if (this.resolvingFunctions) {\n            this.resolvingFunctions.resolve();\n            delete this.resolvingFunctions;\n        }\n    }\n    createScriptElement(element) {\n        if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n            return element;\n        }\n        else {\n            const createdScriptElement = document.createElement(\"script\");\n            createdScriptElement.textContent = element.textContent;\n            createdScriptElement.async = false;\n            copyElementAttributes(createdScriptElement, element);\n            return createdScriptElement;\n        }\n    }\n    preservingPermanentElements(callback) {\n        const placeholders = relocatePermanentElements(this.currentSnapshot, this.newSnapshot);\n        callback();\n        replacePlaceholderElementsWithClonedPermanentElements(placeholders);\n    }\n    focusFirstAutofocusableElement() {\n        const element = this.newSnapshot.firstAutofocusableElement;\n        if (elementIsFocusable(element)) {\n            element.focus();\n        }\n    }\n    get currentElement() {\n        return this.currentSnapshot.element;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n}\nfunction replaceElementWithElement(fromElement, toElement) {\n    const parentElement = fromElement.parentElement;\n    if (parentElement) {\n        return parentElement.replaceChild(toElement, fromElement);\n    }\n}\nfunction copyElementAttributes(destinationElement, sourceElement) {\n    for (const { name, value } of [...sourceElement.attributes]) {\n        destinationElement.setAttribute(name, value);\n    }\n}\nfunction createPlaceholderForPermanentElement(permanentElement) {\n    const element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n    element.setAttribute(\"content\", permanentElement.id);\n    return { element, permanentElement };\n}\nfunction replacePlaceholderElementsWithClonedPermanentElements(placeholders) {\n    for (const { element, permanentElement } of placeholders) {\n        const clonedElement = permanentElement.cloneNode(true);\n        replaceElementWithElement(element, clonedElement);\n    }\n}\nfunction relocatePermanentElements(currentSnapshot, newSnapshot) {\n    return currentSnapshot.getPermanentElementsPresentInSnapshot(newSnapshot).reduce((placeholders, permanentElement) => {\n        const newElement = newSnapshot.getPermanentElementById(permanentElement.id);\n        if (newElement) {\n            const placeholder = createPlaceholderForPermanentElement(permanentElement);\n            replaceElementWithElement(permanentElement, placeholder.element);\n            replaceElementWithElement(newElement, permanentElement);\n            return [...placeholders, placeholder];\n        }\n        else {\n            return placeholders;\n        }\n    }, []);\n}\nfunction elementIsFocusable(element) {\n    return element && typeof element.focus == \"function\";\n}\n\nclass FrameRenderer extends Renderer {\n    get shouldRender() {\n        return true;\n    }\n    async render() {\n        await nextAnimationFrame();\n        this.preservingPermanentElements(() => {\n            this.loadFrameElement();\n        });\n        this.scrollFrameIntoView();\n        await nextAnimationFrame();\n        this.focusFirstAutofocusableElement();\n    }\n    loadFrameElement() {\n        var _a;\n        const destinationRange = document.createRange();\n        destinationRange.selectNodeContents(this.currentElement);\n        destinationRange.deleteContents();\n        const frameElement = this.newElement;\n        const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();\n        if (sourceRange) {\n            sourceRange.selectNodeContents(frameElement);\n            this.currentElement.appendChild(sourceRange.extractContents());\n        }\n    }\n    scrollFrameIntoView() {\n        if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n            const element = this.currentElement.firstElementChild;\n            const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n            if (element) {\n                element.scrollIntoView({ block });\n                return true;\n            }\n        }\n        return false;\n    }\n}\nfunction readScrollLogicalPosition(value, defaultValue) {\n    if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\n\nclass FrameController {\n    constructor(element) {\n        this.resolveVisitPromise = () => { };\n        this.element = element;\n        this.view = new FrameView(this, this.element);\n        this.appearanceObserver = new AppearanceObserver(this, this.element);\n        this.linkInterceptor = new LinkInterceptor(this, this.element);\n        this.formInterceptor = new FormInterceptor(this, this.element);\n    }\n    connect() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        this.linkInterceptor.start();\n        this.formInterceptor.start();\n    }\n    disconnect() {\n        this.appearanceObserver.stop();\n        this.linkInterceptor.stop();\n        this.formInterceptor.stop();\n    }\n    sourceURLChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.eager) {\n            this.loadSourceURL();\n        }\n    }\n    loadingStyleChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        else {\n            this.appearanceObserver.stop();\n            this.loadSourceURL();\n        }\n    }\n    async loadSourceURL() {\n        if (this.isActive && this.sourceURL && this.sourceURL != this.loadingURL) {\n            try {\n                this.loadingURL = this.sourceURL;\n                this.element.loaded = this.visit(this.sourceURL);\n                this.appearanceObserver.stop();\n                await this.element.loaded;\n            }\n            finally {\n                delete this.loadingURL;\n            }\n        }\n    }\n    async loadResponse(response) {\n        try {\n            const html = await response.responseHTML;\n            if (html) {\n                const { body } = parseHTMLDocument(html);\n                const snapshot = new Snapshot(await this.extractForeignFrameElement(body));\n                const renderer = new FrameRenderer(this.view.snapshot, snapshot, false);\n                await this.view.render(renderer);\n            }\n        }\n        catch (error) {\n            console.error(error);\n            this.view.invalidate();\n        }\n    }\n    elementAppearedInViewport(element) {\n        this.loadSourceURL();\n    }\n    shouldInterceptLinkClick(element, url) {\n        return this.shouldInterceptNavigation(element);\n    }\n    linkClickIntercepted(element, url) {\n        this.navigateFrame(element, url);\n    }\n    shouldInterceptFormSubmission(element) {\n        return this.shouldInterceptNavigation(element);\n    }\n    formSubmissionIntercepted(element, submitter) {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n        }\n        this.formSubmission = new FormSubmission(this, element, submitter);\n        if (this.formSubmission.fetchRequest.isIdempotent) {\n            this.navigateFrame(element, this.formSubmission.fetchRequest.url.href);\n        }\n        else {\n            this.formSubmission.start();\n        }\n    }\n    prepareHeadersForRequest(headers, request) {\n        headers[\"Turbo-Frame\"] = this.id;\n    }\n    requestStarted(request) {\n        this.element.setAttribute(\"busy\", \"\");\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.resolveVisitPromise();\n    }\n    async requestSucceededWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    requestFailedWithResponse(request, response) {\n        console.error(response);\n        this.resolveVisitPromise();\n    }\n    requestErrored(request, error) {\n        console.error(error);\n        this.resolveVisitPromise();\n    }\n    requestFinished(request) {\n        this.element.removeAttribute(\"busy\");\n    }\n    formSubmissionStarted(formSubmission) {\n    }\n    formSubmissionSucceededWithResponse(formSubmission, response) {\n        const frame = this.findFrameElement(formSubmission.formElement);\n        frame.delegate.loadResponse(response);\n    }\n    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        this.element.delegate.loadResponse(fetchResponse);\n    }\n    formSubmissionErrored(formSubmission, error) {\n    }\n    formSubmissionFinished(formSubmission) {\n    }\n    viewWillRenderSnapshot(snapshot, isPreview) {\n    }\n    viewRenderedSnapshot(snapshot, isPreview) {\n    }\n    viewInvalidated() {\n    }\n    async visit(url) {\n        const request = new FetchRequest(this, FetchMethod.get, expandURL(url));\n        return new Promise(resolve => {\n            this.resolveVisitPromise = () => {\n                this.resolveVisitPromise = () => { };\n                resolve();\n            };\n            request.perform();\n        });\n    }\n    navigateFrame(element, url) {\n        const frame = this.findFrameElement(element);\n        frame.src = url;\n    }\n    findFrameElement(element) {\n        var _a;\n        const id = element.getAttribute(\"data-turbo-frame\") || this.element.getAttribute(\"target\");\n        return (_a = getFrameElementById(id)) !== null && _a !== void 0 ? _a : this.element;\n    }\n    async extractForeignFrameElement(container) {\n        let element;\n        const id = CSS.escape(this.id);\n        if (element = activateElement(container.querySelector(`turbo-frame#${id}`))) {\n            return element;\n        }\n        if (element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`))) {\n            await element.loaded;\n            return await this.extractForeignFrameElement(element);\n        }\n        console.error(`Response has no matching <turbo-frame id=\"${id}\"> element`);\n        return new FrameElement();\n    }\n    shouldInterceptNavigation(element) {\n        const id = element.getAttribute(\"data-turbo-frame\") || this.element.getAttribute(\"target\");\n        if (!this.enabled || id == \"_top\") {\n            return false;\n        }\n        if (id) {\n            const frameElement = getFrameElementById(id);\n            if (frameElement) {\n                return !frameElement.disabled;\n            }\n        }\n        return true;\n    }\n    get id() {\n        return this.element.id;\n    }\n    get enabled() {\n        return !this.element.disabled;\n    }\n    get sourceURL() {\n        return this.element.src;\n    }\n    get loadingStyle() {\n        return this.element.loading;\n    }\n    get isLoading() {\n        return this.formSubmission !== undefined || this.loadingURL !== undefined;\n    }\n    get isActive() {\n        return this.element.isActive;\n    }\n}\nfunction getFrameElementById(id) {\n    if (id != null) {\n        const element = document.getElementById(id);\n        if (element instanceof FrameElement) {\n            return element;\n        }\n    }\n}\nfunction activateElement(element) {\n    if (element && element.ownerDocument !== document) {\n        element = document.importNode(element, true);\n    }\n    if (element instanceof FrameElement) {\n        return element;\n    }\n}\n\nconst StreamActions = {\n    append() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.append(this.templateContent);\n    },\n    prepend() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.prepend(this.templateContent);\n    },\n    remove() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.remove();\n    },\n    replace() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.replaceWith(this.templateContent);\n    },\n    update() {\n        if (this.targetElement) {\n            this.targetElement.innerHTML = \"\";\n            this.targetElement.append(this.templateContent);\n        }\n    }\n};\n\nclass StreamElement extends HTMLElement {\n    async connectedCallback() {\n        try {\n            await this.render();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        finally {\n            this.disconnect();\n        }\n    }\n    async render() {\n        var _a;\n        return (_a = this.renderPromise) !== null && _a !== void 0 ? _a : (this.renderPromise = (async () => {\n            if (this.dispatchEvent(this.beforeRenderEvent)) {\n                await nextAnimationFrame();\n                this.performAction();\n            }\n        })());\n    }\n    disconnect() {\n        try {\n            this.remove();\n        }\n        catch (_a) { }\n    }\n    get performAction() {\n        if (this.action) {\n            const actionFunction = StreamActions[this.action];\n            if (actionFunction) {\n                return actionFunction;\n            }\n            this.raise(\"unknown action\");\n        }\n        this.raise(\"action attribute is missing\");\n    }\n    get targetElement() {\n        var _a;\n        if (this.target) {\n            return (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);\n        }\n        this.raise(\"target attribute is missing\");\n    }\n    get templateContent() {\n        return this.templateElement.content;\n    }\n    get templateElement() {\n        if (this.firstElementChild instanceof HTMLTemplateElement) {\n            return this.firstElementChild;\n        }\n        this.raise(\"first child element must be a <template> element\");\n    }\n    get action() {\n        return this.getAttribute(\"action\");\n    }\n    get target() {\n        return this.getAttribute(\"target\");\n    }\n    raise(message) {\n        throw new Error(`${this.description}: ${message}`);\n    }\n    get description() {\n        var _a, _b;\n        return (_b = ((_a = this.outerHTML.match(/<[^>]+>/)) !== null && _a !== void 0 ? _a : [])[0]) !== null && _b !== void 0 ? _b : \"<turbo-stream>\";\n    }\n    get beforeRenderEvent() {\n        return new CustomEvent(\"turbo:before-stream-render\", { bubbles: true, cancelable: true });\n    }\n}\n\nFrameElement.delegateConstructor = FrameController;\ncustomElements.define(\"turbo-frame\", FrameElement);\ncustomElements.define(\"turbo-stream\", StreamElement);\n\n(() => {\n    let element = document.currentScript;\n    if (!element)\n        return;\n    if (element.hasAttribute(\"data-turbo-suppress-warning\"))\n        return;\n    while (element = element.parentElement) {\n        if (element == document.body) {\n            return console.warn(unindent `\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `, element.outerHTML);\n        }\n    }\n})();\n\nclass ProgressBar {\n    constructor() {\n        this.hiding = false;\n        this.value = 0;\n        this.visible = false;\n        this.trickle = () => {\n            this.setValue(this.value + Math.random() / 100);\n        };\n        this.stylesheetElement = this.createStylesheetElement();\n        this.progressElement = this.createProgressElement();\n        this.installStylesheetElement();\n        this.setValue(0);\n    }\n    static get defaultCSS() {\n        return unindent `\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this.installProgressElement();\n            this.startTrickling();\n        }\n    }\n    hide() {\n        if (this.visible && !this.hiding) {\n            this.hiding = true;\n            this.fadeProgressElement(() => {\n                this.uninstallProgressElement();\n                this.stopTrickling();\n                this.visible = false;\n                this.hiding = false;\n            });\n        }\n    }\n    setValue(value) {\n        this.value = value;\n        this.refresh();\n    }\n    installStylesheetElement() {\n        document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n    }\n    installProgressElement() {\n        this.progressElement.style.width = \"0\";\n        this.progressElement.style.opacity = \"1\";\n        document.documentElement.insertBefore(this.progressElement, document.body);\n        this.refresh();\n    }\n    fadeProgressElement(callback) {\n        this.progressElement.style.opacity = \"0\";\n        setTimeout(callback, ProgressBar.animationDuration * 1.5);\n    }\n    uninstallProgressElement() {\n        if (this.progressElement.parentNode) {\n            document.documentElement.removeChild(this.progressElement);\n        }\n    }\n    startTrickling() {\n        if (!this.trickleInterval) {\n            this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n        }\n    }\n    stopTrickling() {\n        window.clearInterval(this.trickleInterval);\n        delete this.trickleInterval;\n    }\n    refresh() {\n        requestAnimationFrame(() => {\n            this.progressElement.style.width = `${10 + (this.value * 90)}%`;\n        });\n    }\n    createStylesheetElement() {\n        const element = document.createElement(\"style\");\n        element.type = \"text/css\";\n        element.textContent = ProgressBar.defaultCSS;\n        return element;\n    }\n    createProgressElement() {\n        const element = document.createElement(\"div\");\n        element.className = \"turbo-progress-bar\";\n        return element;\n    }\n}\nProgressBar.animationDuration = 300;\n\nclass HeadSnapshot extends Snapshot {\n    constructor() {\n        super(...arguments);\n        this.detailsByOuterHTML = this.children.reduce((result, element) => {\n            const { outerHTML } = element;\n            const details = outerHTML in result\n                ? result[outerHTML]\n                : {\n                    type: elementType(element),\n                    tracked: elementIsTracked(element),\n                    elements: []\n                };\n            return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });\n        }, {});\n    }\n    get trackedElementSignature() {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter(outerHTML => this.detailsByOuterHTML[outerHTML].tracked)\n            .join(\"\");\n    }\n    getScriptElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot);\n    }\n    getStylesheetElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot);\n    }\n    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter(outerHTML => !(outerHTML in snapshot.detailsByOuterHTML))\n            .map(outerHTML => this.detailsByOuterHTML[outerHTML])\n            .filter(({ type }) => type == matchedType)\n            .map(({ elements: [element] }) => element);\n    }\n    get provisionalElements() {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n            if (type == null && !tracked) {\n                return [...result, ...elements];\n            }\n            else if (elements.length > 1) {\n                return [...result, ...elements.slice(1)];\n            }\n            else {\n                return result;\n            }\n        }, []);\n    }\n    getMetaValue(name) {\n        const element = this.findMetaElementByName(name);\n        return element\n            ? element.getAttribute(\"content\")\n            : null;\n    }\n    findMetaElementByName(name) {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { elements: [element] } = this.detailsByOuterHTML[outerHTML];\n            return elementIsMetaElementWithName(element, name) ? element : result;\n        }, undefined);\n    }\n}\nfunction elementType(element) {\n    if (elementIsScript(element)) {\n        return \"script\";\n    }\n    else if (elementIsStylesheet(element)) {\n        return \"stylesheet\";\n    }\n}\nfunction elementIsTracked(element) {\n    return element.getAttribute(\"data-turbo-track\") == \"reload\";\n}\nfunction elementIsScript(element) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"script\";\n}\nfunction elementIsStylesheet(element) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\");\n}\nfunction elementIsMetaElementWithName(element, name) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}\n\nclass PageSnapshot extends Snapshot {\n    constructor(element, headSnapshot) {\n        super(element);\n        this.headSnapshot = headSnapshot;\n    }\n    static fromHTMLString(html = \"\") {\n        return this.fromDocument(parseHTMLDocument(html));\n    }\n    static fromElement(element) {\n        return this.fromDocument(element.ownerDocument);\n    }\n    static fromDocument({ head, body }) {\n        return new this(body, new HeadSnapshot(head));\n    }\n    clone() {\n        return new PageSnapshot(this.element.cloneNode(true), this.headSnapshot);\n    }\n    get headElement() {\n        return this.headSnapshot.element;\n    }\n    get rootLocation() {\n        var _a;\n        const root = (_a = this.getSetting(\"root\")) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    get cacheControlValue() {\n        return this.getSetting(\"cache-control\");\n    }\n    get isPreviewable() {\n        return this.cacheControlValue != \"no-preview\";\n    }\n    get isCacheable() {\n        return this.cacheControlValue != \"no-cache\";\n    }\n    get isVisitable() {\n        return this.getSetting(\"visit-control\") != \"reload\";\n    }\n    getSetting(name) {\n        return this.headSnapshot.getMetaValue(`turbo-${name}`);\n    }\n}\n\nvar TimingMetric;\n(function (TimingMetric) {\n    TimingMetric[\"visitStart\"] = \"visitStart\";\n    TimingMetric[\"requestStart\"] = \"requestStart\";\n    TimingMetric[\"requestEnd\"] = \"requestEnd\";\n    TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\nvar VisitState;\n(function (VisitState) {\n    VisitState[\"initialized\"] = \"initialized\";\n    VisitState[\"started\"] = \"started\";\n    VisitState[\"canceled\"] = \"canceled\";\n    VisitState[\"failed\"] = \"failed\";\n    VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\nconst defaultOptions = {\n    action: \"advance\",\n    historyChanged: false\n};\nvar SystemStatusCode;\n(function (SystemStatusCode) {\n    SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n    SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n    SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\nclass Visit {\n    constructor(delegate, location, restorationIdentifier, options = {}) {\n        this.identifier = uuid();\n        this.timingMetrics = {};\n        this.followedRedirect = false;\n        this.historyChanged = false;\n        this.scrolled = false;\n        this.snapshotCached = false;\n        this.state = VisitState.initialized;\n        this.delegate = delegate;\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier || uuid();\n        const { action, historyChanged, referrer, snapshotHTML, response } = Object.assign(Object.assign({}, defaultOptions), options);\n        this.action = action;\n        this.historyChanged = historyChanged;\n        this.referrer = referrer;\n        this.snapshotHTML = snapshotHTML;\n        this.response = response;\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    get restorationData() {\n        return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);\n    }\n    start() {\n        if (this.state == VisitState.initialized) {\n            this.recordTimingMetric(TimingMetric.visitStart);\n            this.state = VisitState.started;\n            this.adapter.visitStarted(this);\n            this.delegate.visitStarted(this);\n        }\n    }\n    cancel() {\n        if (this.state == VisitState.started) {\n            if (this.request) {\n                this.request.cancel();\n            }\n            this.cancelRender();\n            this.state = VisitState.canceled;\n        }\n    }\n    complete() {\n        if (this.state == VisitState.started) {\n            this.recordTimingMetric(TimingMetric.visitEnd);\n            this.state = VisitState.completed;\n            this.adapter.visitCompleted(this);\n            this.delegate.visitCompleted(this);\n        }\n    }\n    fail() {\n        if (this.state == VisitState.started) {\n            this.state = VisitState.failed;\n            this.adapter.visitFailed(this);\n        }\n    }\n    changeHistory() {\n        var _a;\n        if (!this.historyChanged) {\n            const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? \"replace\" : this.action;\n            const method = this.getHistoryMethodForAction(actionForHistory);\n            this.history.update(method, this.location, this.restorationIdentifier);\n            this.historyChanged = true;\n        }\n    }\n    issueRequest() {\n        if (this.hasPreloadedResponse()) {\n            this.simulateRequest();\n        }\n        else if (this.shouldIssueRequest() && !this.request) {\n            this.request = new FetchRequest(this, FetchMethod.get, this.location);\n            this.request.perform();\n        }\n    }\n    simulateRequest() {\n        if (this.response) {\n            this.startRequest();\n            this.recordResponse();\n            this.finishRequest();\n        }\n    }\n    startRequest() {\n        this.recordTimingMetric(TimingMetric.requestStart);\n        this.adapter.visitRequestStarted(this);\n    }\n    recordResponse(response = this.response) {\n        this.response = response;\n        if (response) {\n            const { statusCode } = response;\n            if (isSuccessful(statusCode)) {\n                this.adapter.visitRequestCompleted(this);\n            }\n            else {\n                this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n            }\n        }\n    }\n    finishRequest() {\n        this.recordTimingMetric(TimingMetric.requestEnd);\n        this.adapter.visitRequestFinished(this);\n    }\n    loadResponse() {\n        if (this.response) {\n            const { statusCode, responseHTML } = this.response;\n            this.render(async () => {\n                this.cacheSnapshot();\n                if (isSuccessful(statusCode) && responseHTML != null) {\n                    await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML));\n                    this.adapter.visitRendered(this);\n                    this.complete();\n                }\n                else {\n                    await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML));\n                    this.adapter.visitRendered(this);\n                    this.fail();\n                }\n            });\n        }\n    }\n    getCachedSnapshot() {\n        const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n        if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n            if (this.action == \"restore\" || snapshot.isPreviewable) {\n                return snapshot;\n            }\n        }\n    }\n    getPreloadedSnapshot() {\n        if (this.snapshotHTML) {\n            return PageSnapshot.fromHTMLString(this.snapshotHTML);\n        }\n    }\n    hasCachedSnapshot() {\n        return this.getCachedSnapshot() != null;\n    }\n    loadCachedSnapshot() {\n        const snapshot = this.getCachedSnapshot();\n        if (snapshot) {\n            const isPreview = this.shouldIssueRequest();\n            this.render(async () => {\n                this.cacheSnapshot();\n                await this.view.renderPage(snapshot);\n                this.adapter.visitRendered(this);\n                if (!isPreview) {\n                    this.complete();\n                }\n            });\n        }\n    }\n    followRedirect() {\n        if (this.redirectedToLocation && !this.followedRedirect) {\n            this.location = this.redirectedToLocation;\n            this.history.replace(this.redirectedToLocation, this.restorationIdentifier);\n            this.followedRedirect = true;\n        }\n    }\n    requestStarted() {\n        this.startRequest();\n    }\n    requestPreventedHandlingResponse(request, response) {\n    }\n    async requestSucceededWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        if (responseHTML == undefined) {\n            this.recordResponse({ statusCode: SystemStatusCode.contentTypeMismatch });\n        }\n        else {\n            this.redirectedToLocation = response.redirected ? response.location : undefined;\n            this.recordResponse({ statusCode: response.statusCode, responseHTML });\n        }\n    }\n    async requestFailedWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        if (responseHTML == undefined) {\n            this.recordResponse({ statusCode: SystemStatusCode.contentTypeMismatch });\n        }\n        else {\n            this.recordResponse({ statusCode: response.statusCode, responseHTML });\n        }\n    }\n    requestErrored(request, error) {\n        this.recordResponse({ statusCode: SystemStatusCode.networkFailure });\n    }\n    requestFinished() {\n        this.finishRequest();\n    }\n    performScroll() {\n        if (!this.scrolled) {\n            if (this.action == \"restore\") {\n                this.scrollToRestoredPosition() || this.scrollToTop();\n            }\n            else {\n                this.scrollToAnchor() || this.scrollToTop();\n            }\n            this.scrolled = true;\n        }\n    }\n    scrollToRestoredPosition() {\n        const { scrollPosition } = this.restorationData;\n        if (scrollPosition) {\n            this.view.scrollToPosition(scrollPosition);\n            return true;\n        }\n    }\n    scrollToAnchor() {\n        if (getAnchor(this.location) != null) {\n            this.view.scrollToAnchor(getAnchor(this.location));\n            return true;\n        }\n    }\n    scrollToTop() {\n        this.view.scrollToPosition({ x: 0, y: 0 });\n    }\n    recordTimingMetric(metric) {\n        this.timingMetrics[metric] = new Date().getTime();\n    }\n    getTimingMetrics() {\n        return Object.assign({}, this.timingMetrics);\n    }\n    getHistoryMethodForAction(action) {\n        switch (action) {\n            case \"replace\": return history.replaceState;\n            case \"advance\":\n            case \"restore\": return history.pushState;\n        }\n    }\n    hasPreloadedResponse() {\n        return typeof this.response == \"object\";\n    }\n    shouldIssueRequest() {\n        return this.action == \"restore\"\n            ? !this.hasCachedSnapshot()\n            : true;\n    }\n    cacheSnapshot() {\n        if (!this.snapshotCached) {\n            this.view.cacheSnapshot();\n            this.snapshotCached = true;\n        }\n    }\n    async render(callback) {\n        this.cancelRender();\n        await new Promise(resolve => {\n            this.frame = requestAnimationFrame(() => resolve());\n        });\n        callback();\n        delete this.frame;\n        this.performScroll();\n    }\n    cancelRender() {\n        if (this.frame) {\n            cancelAnimationFrame(this.frame);\n            delete this.frame;\n        }\n    }\n}\nfunction isSuccessful(statusCode) {\n    return statusCode >= 200 && statusCode < 300;\n}\n\nclass BrowserAdapter {\n    constructor(session) {\n        this.progressBar = new ProgressBar;\n        this.showProgressBar = () => {\n            this.progressBar.show();\n        };\n        this.session = session;\n    }\n    visitProposedToLocation(location, options) {\n        this.navigator.startVisit(location, uuid(), options);\n    }\n    visitStarted(visit) {\n        visit.issueRequest();\n        visit.changeHistory();\n        visit.loadCachedSnapshot();\n    }\n    visitRequestStarted(visit) {\n        this.progressBar.setValue(0);\n        if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n            this.showProgressBarAfterDelay();\n        }\n        else {\n            this.showProgressBar();\n        }\n    }\n    visitRequestCompleted(visit) {\n        visit.loadResponse();\n    }\n    visitRequestFailedWithStatusCode(visit, statusCode) {\n        switch (statusCode) {\n            case SystemStatusCode.networkFailure:\n            case SystemStatusCode.timeoutFailure:\n            case SystemStatusCode.contentTypeMismatch:\n                return this.reload();\n            default:\n                return visit.loadResponse();\n        }\n    }\n    visitRequestFinished(visit) {\n        this.progressBar.setValue(1);\n        this.hideProgressBar();\n    }\n    visitCompleted(visit) {\n        visit.followRedirect();\n    }\n    pageInvalidated() {\n        this.reload();\n    }\n    visitFailed(visit) {\n    }\n    visitRendered(visit) {\n    }\n    showProgressBarAfterDelay() {\n        this.progressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n    hideProgressBar() {\n        this.progressBar.hide();\n        if (this.progressBarTimeout != null) {\n            window.clearTimeout(this.progressBarTimeout);\n            delete this.progressBarTimeout;\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    get navigator() {\n        return this.session.navigator;\n    }\n}\n\nclass FormSubmitObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.submitCaptured = () => {\n            removeEventListener(\"submit\", this.submitBubbled, false);\n            addEventListener(\"submit\", this.submitBubbled, false);\n        };\n        this.submitBubbled = ((event) => {\n            if (!event.defaultPrevented) {\n                const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n                const submitter = event.submitter || undefined;\n                if (form) {\n                    const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formmethod\")) || form.method;\n                    if (method != \"dialog\" && this.delegate.willSubmitForm(form, submitter)) {\n                        event.preventDefault();\n                        this.delegate.formSubmitted(form, submitter);\n                    }\n                }\n            }\n        });\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"submit\", this.submitCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"submit\", this.submitCaptured, true);\n            this.started = false;\n        }\n    }\n}\n\nclass FrameRedirector {\n    constructor(element) {\n        this.element = element;\n        this.linkInterceptor = new LinkInterceptor(this, element);\n        this.formInterceptor = new FormInterceptor(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n        this.formInterceptor.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n        this.formInterceptor.stop();\n    }\n    shouldInterceptLinkClick(element, url) {\n        return this.shouldRedirect(element);\n    }\n    linkClickIntercepted(element, url) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.src = url;\n        }\n    }\n    shouldInterceptFormSubmission(element, submitter) {\n        return this.shouldRedirect(element, submitter);\n    }\n    formSubmissionIntercepted(element, submitter) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.delegate.formSubmissionIntercepted(element, submitter);\n        }\n    }\n    shouldRedirect(element, submitter) {\n        const frame = this.findFrameElement(element);\n        return frame ? frame != element.closest(\"turbo-frame\") : false;\n    }\n    findFrameElement(element) {\n        const id = element.getAttribute(\"data-turbo-frame\");\n        if (id && id != \"_top\") {\n            const frame = this.element.querySelector(`#${id}:not([disabled])`);\n            if (frame instanceof FrameElement) {\n                return frame;\n            }\n        }\n    }\n}\n\nclass History {\n    constructor(delegate) {\n        this.restorationIdentifier = uuid();\n        this.restorationData = {};\n        this.started = false;\n        this.pageLoaded = false;\n        this.onPopState = (event) => {\n            if (this.shouldHandlePopState()) {\n                const { turbo } = event.state || {};\n                if (turbo) {\n                    this.location = new URL(window.location.href);\n                    const { restorationIdentifier } = turbo;\n                    this.restorationIdentifier = restorationIdentifier;\n                    this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);\n                }\n            }\n        };\n        this.onPageLoad = async (event) => {\n            await nextMicrotask();\n            this.pageLoaded = true;\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"popstate\", this.onPopState, false);\n            addEventListener(\"load\", this.onPageLoad, false);\n            this.started = true;\n            this.replace(new URL(window.location.href));\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"popstate\", this.onPopState, false);\n            removeEventListener(\"load\", this.onPageLoad, false);\n            this.started = false;\n        }\n    }\n    push(location, restorationIdentifier) {\n        this.update(history.pushState, location, restorationIdentifier);\n    }\n    replace(location, restorationIdentifier) {\n        this.update(history.replaceState, location, restorationIdentifier);\n    }\n    update(method, location, restorationIdentifier = uuid()) {\n        const state = { turbo: { restorationIdentifier } };\n        method.call(history, state, \"\", location.href);\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier;\n    }\n    getRestorationDataForIdentifier(restorationIdentifier) {\n        return this.restorationData[restorationIdentifier] || {};\n    }\n    updateRestorationData(additionalData) {\n        const { restorationIdentifier } = this;\n        const restorationData = this.restorationData[restorationIdentifier];\n        this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);\n    }\n    assumeControlOfScrollRestoration() {\n        var _a;\n        if (!this.previousScrollRestoration) {\n            this.previousScrollRestoration = (_a = history.scrollRestoration) !== null && _a !== void 0 ? _a : \"auto\";\n            history.scrollRestoration = \"manual\";\n        }\n    }\n    relinquishControlOfScrollRestoration() {\n        if (this.previousScrollRestoration) {\n            history.scrollRestoration = this.previousScrollRestoration;\n            delete this.previousScrollRestoration;\n        }\n    }\n    shouldHandlePopState() {\n        return this.pageIsLoaded();\n    }\n    pageIsLoaded() {\n        return this.pageLoaded || document.readyState == \"complete\";\n    }\n}\n\nclass LinkClickObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.clickCaptured = () => {\n            removeEventListener(\"click\", this.clickBubbled, false);\n            addEventListener(\"click\", this.clickBubbled, false);\n        };\n        this.clickBubbled = (event) => {\n            if (this.clickEventIsSignificant(event)) {\n                const link = this.findLinkFromClickTarget(event.target);\n                if (link) {\n                    const location = this.getLocationForLink(link);\n                    if (this.delegate.willFollowLinkToLocation(link, location)) {\n                        event.preventDefault();\n                        this.delegate.followedLinkToLocation(link, location);\n                    }\n                }\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"click\", this.clickCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"click\", this.clickCaptured, true);\n            this.started = false;\n        }\n    }\n    clickEventIsSignificant(event) {\n        return !((event.target && event.target.isContentEditable)\n            || event.defaultPrevented\n            || event.which > 1\n            || event.altKey\n            || event.ctrlKey\n            || event.metaKey\n            || event.shiftKey);\n    }\n    findLinkFromClickTarget(target) {\n        if (target instanceof Element) {\n            return target.closest(\"a[href]:not([target^=_]):not([download])\");\n        }\n    }\n    getLocationForLink(link) {\n        return expandURL(link.getAttribute(\"href\") || \"\");\n    }\n}\n\nclass Navigator {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    proposeVisit(location, options = {}) {\n        if (this.delegate.allowsVisitingLocation(location)) {\n            this.delegate.visitProposedToLocation(location, options);\n        }\n    }\n    startVisit(locatable, restorationIdentifier, options = {}) {\n        this.stop();\n        this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));\n        this.currentVisit.start();\n    }\n    submitForm(form, submitter) {\n        this.stop();\n        this.formSubmission = new FormSubmission(this, form, submitter, true);\n        if (this.formSubmission.fetchRequest.isIdempotent) {\n            this.proposeVisit(this.formSubmission.fetchRequest.url);\n        }\n        else {\n            this.formSubmission.start();\n        }\n    }\n    stop() {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n            delete this.formSubmission;\n        }\n        if (this.currentVisit) {\n            this.currentVisit.cancel();\n            delete this.currentVisit;\n        }\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    formSubmissionStarted(formSubmission) {\n    }\n    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n        if (formSubmission == this.formSubmission) {\n            const responseHTML = await fetchResponse.responseHTML;\n            if (responseHTML) {\n                if (formSubmission.method != FetchMethod.get) {\n                    this.view.clearSnapshotCache();\n                }\n                const { statusCode } = fetchResponse;\n                const visitOptions = { response: { statusCode, responseHTML } };\n                this.proposeVisit(fetchResponse.location, visitOptions);\n            }\n        }\n    }\n    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        const responseHTML = await fetchResponse.responseHTML;\n        if (responseHTML) {\n            const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n            await this.view.renderPage(snapshot);\n            this.view.clearSnapshotCache();\n        }\n    }\n    formSubmissionErrored(formSubmission, error) {\n    }\n    formSubmissionFinished(formSubmission) {\n    }\n    visitStarted(visit) {\n        this.delegate.visitStarted(visit);\n    }\n    visitCompleted(visit) {\n        this.delegate.visitCompleted(visit);\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n}\n\nvar PageStage;\n(function (PageStage) {\n    PageStage[PageStage[\"initial\"] = 0] = \"initial\";\n    PageStage[PageStage[\"loading\"] = 1] = \"loading\";\n    PageStage[PageStage[\"interactive\"] = 2] = \"interactive\";\n    PageStage[PageStage[\"complete\"] = 3] = \"complete\";\n})(PageStage || (PageStage = {}));\nclass PageObserver {\n    constructor(delegate) {\n        this.stage = PageStage.initial;\n        this.started = false;\n        this.interpretReadyState = () => {\n            const { readyState } = this;\n            if (readyState == \"interactive\") {\n                this.pageIsInteractive();\n            }\n            else if (readyState == \"complete\") {\n                this.pageIsComplete();\n            }\n        };\n        this.pageWillUnload = () => {\n            this.delegate.pageWillUnload();\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            if (this.stage == PageStage.initial) {\n                this.stage = PageStage.loading;\n            }\n            document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n            addEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n            removeEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = false;\n        }\n    }\n    pageIsInteractive() {\n        if (this.stage == PageStage.loading) {\n            this.stage = PageStage.interactive;\n            this.delegate.pageBecameInteractive();\n        }\n    }\n    pageIsComplete() {\n        this.pageIsInteractive();\n        if (this.stage == PageStage.interactive) {\n            this.stage = PageStage.complete;\n            this.delegate.pageLoaded();\n        }\n    }\n    get readyState() {\n        return document.readyState;\n    }\n}\n\nclass ScrollObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.onScroll = () => {\n            this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"scroll\", this.onScroll, false);\n            this.onScroll();\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"scroll\", this.onScroll, false);\n            this.started = false;\n        }\n    }\n    updatePosition(position) {\n        this.delegate.scrollPositionChanged(position);\n    }\n}\n\nclass StreamObserver {\n    constructor(delegate) {\n        this.sources = new Set;\n        this.started = false;\n        this.inspectFetchResponse = ((event) => {\n            const response = fetchResponseFromEvent(event);\n            if (response && fetchResponseIsStream(response)) {\n                event.preventDefault();\n                this.receiveMessageResponse(response);\n            }\n        });\n        this.receiveMessageEvent = (event) => {\n            if (this.started && typeof event.data == \"string\") {\n                this.receiveMessageHTML(event.data);\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    connectStreamSource(source) {\n        if (!this.streamSourceIsConnected(source)) {\n            this.sources.add(source);\n            source.addEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    disconnectStreamSource(source) {\n        if (this.streamSourceIsConnected(source)) {\n            this.sources.delete(source);\n            source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    streamSourceIsConnected(source) {\n        return this.sources.has(source);\n    }\n    async receiveMessageResponse(response) {\n        const html = await response.responseHTML;\n        if (html) {\n            this.receiveMessageHTML(html);\n        }\n    }\n    receiveMessageHTML(html) {\n        this.delegate.receivedMessageFromStream(new StreamMessage(html));\n    }\n}\nfunction fetchResponseFromEvent(event) {\n    var _a;\n    const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;\n    if (fetchResponse instanceof FetchResponse) {\n        return fetchResponse;\n    }\n}\nfunction fetchResponseIsStream(response) {\n    var _a;\n    const contentType = (_a = response.contentType) !== null && _a !== void 0 ? _a : \"\";\n    return contentType.startsWith(StreamMessage.contentType);\n}\n\nfunction isAction(action) {\n    return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}\n\nclass ErrorRenderer extends Renderer {\n    async render() {\n        this.replaceHeadAndBody();\n        this.activateScriptElements();\n    }\n    replaceHeadAndBody() {\n        const { documentElement, head, body } = document;\n        documentElement.replaceChild(this.newHead, head);\n        documentElement.replaceChild(this.newElement, body);\n    }\n    activateScriptElements() {\n        for (const replaceableElement of this.scriptElements) {\n            const parentNode = replaceableElement.parentNode;\n            if (parentNode) {\n                const element = this.createScriptElement(replaceableElement);\n                parentNode.replaceChild(element, replaceableElement);\n            }\n        }\n    }\n    get newHead() {\n        return this.newSnapshot.headSnapshot.element;\n    }\n    get scriptElements() {\n        return [...document.documentElement.querySelectorAll(\"script\")];\n    }\n}\n\nclass PageRenderer extends Renderer {\n    get shouldRender() {\n        return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;\n    }\n    prepareToRender() {\n        this.mergeHead();\n    }\n    async render() {\n        this.replaceBody();\n    }\n    finishRendering() {\n        super.finishRendering();\n        if (this.isPreview) {\n            this.focusFirstAutofocusableElement();\n        }\n    }\n    get currentHeadSnapshot() {\n        return this.currentSnapshot.headSnapshot;\n    }\n    get newHeadSnapshot() {\n        return this.newSnapshot.headSnapshot;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    mergeHead() {\n        this.copyNewHeadStylesheetElements();\n        this.copyNewHeadScriptElements();\n        this.removeCurrentHeadProvisionalElements();\n        this.copyNewHeadProvisionalElements();\n    }\n    replaceBody() {\n        this.preservingPermanentElements(() => {\n            this.activateNewBody();\n            this.assignNewBody();\n        });\n    }\n    get trackedElementsAreIdentical() {\n        return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;\n    }\n    copyNewHeadStylesheetElements() {\n        for (const element of this.newHeadStylesheetElements) {\n            document.head.appendChild(element);\n        }\n    }\n    copyNewHeadScriptElements() {\n        for (const element of this.newHeadScriptElements) {\n            document.head.appendChild(this.createScriptElement(element));\n        }\n    }\n    removeCurrentHeadProvisionalElements() {\n        for (const element of this.currentHeadProvisionalElements) {\n            document.head.removeChild(element);\n        }\n    }\n    copyNewHeadProvisionalElements() {\n        for (const element of this.newHeadProvisionalElements) {\n            document.head.appendChild(element);\n        }\n    }\n    activateNewBody() {\n        document.adoptNode(this.newElement);\n        this.activateNewBodyScriptElements();\n    }\n    activateNewBodyScriptElements() {\n        for (const inertScriptElement of this.newBodyScriptElements) {\n            const activatedScriptElement = this.createScriptElement(inertScriptElement);\n            replaceElementWithElement(inertScriptElement, activatedScriptElement);\n        }\n    }\n    assignNewBody() {\n        if (document.body && this.newElement instanceof HTMLBodyElement) {\n            replaceElementWithElement(document.body, this.newElement);\n        }\n        else {\n            document.documentElement.appendChild(this.newElement);\n        }\n    }\n    get newHeadStylesheetElements() {\n        return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get newHeadScriptElements() {\n        return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get currentHeadProvisionalElements() {\n        return this.currentHeadSnapshot.provisionalElements;\n    }\n    get newHeadProvisionalElements() {\n        return this.newHeadSnapshot.provisionalElements;\n    }\n    get newBodyScriptElements() {\n        return [...this.newElement.querySelectorAll(\"script\")];\n    }\n}\n\nclass SnapshotCache {\n    constructor(size) {\n        this.keys = [];\n        this.snapshots = {};\n        this.size = size;\n    }\n    has(location) {\n        return toCacheKey(location) in this.snapshots;\n    }\n    get(location) {\n        if (this.has(location)) {\n            const snapshot = this.read(location);\n            this.touch(location);\n            return snapshot;\n        }\n    }\n    put(location, snapshot) {\n        this.write(location, snapshot);\n        this.touch(location);\n        return snapshot;\n    }\n    clear() {\n        this.snapshots = {};\n    }\n    read(location) {\n        return this.snapshots[toCacheKey(location)];\n    }\n    write(location, snapshot) {\n        this.snapshots[toCacheKey(location)] = snapshot;\n    }\n    touch(location) {\n        const key = toCacheKey(location);\n        const index = this.keys.indexOf(key);\n        if (index > -1)\n            this.keys.splice(index, 1);\n        this.keys.unshift(key);\n        this.trim();\n    }\n    trim() {\n        for (const key of this.keys.splice(this.size)) {\n            delete this.snapshots[key];\n        }\n    }\n}\n\nclass PageView extends View {\n    constructor() {\n        super(...arguments);\n        this.snapshotCache = new SnapshotCache(10);\n        this.lastRenderedLocation = new URL(location.href);\n    }\n    renderPage(snapshot, isPreview = false) {\n        const renderer = new PageRenderer(this.snapshot, snapshot, isPreview);\n        return this.render(renderer);\n    }\n    renderError(snapshot) {\n        const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n        this.render(renderer);\n    }\n    clearSnapshotCache() {\n        this.snapshotCache.clear();\n    }\n    async cacheSnapshot() {\n        if (this.shouldCacheSnapshot) {\n            this.delegate.viewWillCacheSnapshot();\n            const { snapshot, lastRenderedLocation: location } = this;\n            await nextEventLoopTick();\n            this.snapshotCache.put(location, snapshot.clone());\n        }\n    }\n    getCachedSnapshotForLocation(location) {\n        return this.snapshotCache.get(location);\n    }\n    get snapshot() {\n        return PageSnapshot.fromElement(this.element);\n    }\n    get shouldCacheSnapshot() {\n        return this.snapshot.isCacheable;\n    }\n}\n\nclass Session {\n    constructor() {\n        this.navigator = new Navigator(this);\n        this.history = new History(this);\n        this.view = new PageView(this, document.documentElement);\n        this.adapter = new BrowserAdapter(this);\n        this.pageObserver = new PageObserver(this);\n        this.linkClickObserver = new LinkClickObserver(this);\n        this.formSubmitObserver = new FormSubmitObserver(this);\n        this.scrollObserver = new ScrollObserver(this);\n        this.streamObserver = new StreamObserver(this);\n        this.frameRedirector = new FrameRedirector(document.documentElement);\n        this.enabled = true;\n        this.progressBarDelay = 500;\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.pageObserver.start();\n            this.linkClickObserver.start();\n            this.formSubmitObserver.start();\n            this.scrollObserver.start();\n            this.streamObserver.start();\n            this.frameRedirector.start();\n            this.history.start();\n            this.started = true;\n            this.enabled = true;\n        }\n    }\n    disable() {\n        this.enabled = false;\n    }\n    stop() {\n        if (this.started) {\n            this.pageObserver.stop();\n            this.linkClickObserver.stop();\n            this.formSubmitObserver.stop();\n            this.scrollObserver.stop();\n            this.streamObserver.stop();\n            this.frameRedirector.stop();\n            this.history.stop();\n            this.started = false;\n        }\n    }\n    registerAdapter(adapter) {\n        this.adapter = adapter;\n    }\n    visit(location, options = {}) {\n        this.navigator.proposeVisit(expandURL(location), options);\n    }\n    connectStreamSource(source) {\n        this.streamObserver.connectStreamSource(source);\n    }\n    disconnectStreamSource(source) {\n        this.streamObserver.disconnectStreamSource(source);\n    }\n    renderStreamMessage(message) {\n        document.documentElement.appendChild(StreamMessage.wrap(message).fragment);\n    }\n    clearCache() {\n        this.view.clearSnapshotCache();\n    }\n    setProgressBarDelay(delay) {\n        this.progressBarDelay = delay;\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    historyPoppedToLocationWithRestorationIdentifier(location) {\n        if (this.enabled) {\n            this.navigator.proposeVisit(location, { action: \"restore\", historyChanged: true });\n        }\n        else {\n            this.adapter.pageInvalidated();\n        }\n    }\n    scrollPositionChanged(position) {\n        this.history.updateRestorationData({ scrollPosition: position });\n    }\n    willFollowLinkToLocation(link, location) {\n        return this.elementIsNavigable(link)\n            && this.locationIsVisitable(location)\n            && this.applicationAllowsFollowingLinkToLocation(link, location);\n    }\n    followedLinkToLocation(link, location) {\n        const action = this.getActionForLink(link);\n        this.visit(location.href, { action });\n    }\n    allowsVisitingLocation(location) {\n        return this.applicationAllowsVisitingLocation(location);\n    }\n    visitProposedToLocation(location, options) {\n        extendURLWithDeprecatedProperties(location);\n        this.adapter.visitProposedToLocation(location, options);\n    }\n    visitStarted(visit) {\n        extendURLWithDeprecatedProperties(visit.location);\n        this.notifyApplicationAfterVisitingLocation(visit.location);\n    }\n    visitCompleted(visit) {\n        this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n    }\n    willSubmitForm(form, submitter) {\n        return this.elementIsNavigable(form) && this.elementIsNavigable(submitter);\n    }\n    formSubmitted(form, submitter) {\n        this.navigator.submitForm(form, submitter);\n    }\n    pageBecameInteractive() {\n        this.view.lastRenderedLocation = this.location;\n        this.notifyApplicationAfterPageLoad();\n    }\n    pageLoaded() {\n        this.history.assumeControlOfScrollRestoration();\n    }\n    pageWillUnload() {\n        this.history.relinquishControlOfScrollRestoration();\n    }\n    receivedMessageFromStream(message) {\n        this.renderStreamMessage(message);\n    }\n    viewWillCacheSnapshot() {\n        this.notifyApplicationBeforeCachingSnapshot();\n    }\n    viewWillRenderSnapshot({ element }, isPreview) {\n        this.notifyApplicationBeforeRender(element);\n    }\n    viewRenderedSnapshot(snapshot, isPreview) {\n        this.view.lastRenderedLocation = this.history.location;\n        this.notifyApplicationAfterRender();\n    }\n    viewInvalidated() {\n        this.adapter.pageInvalidated();\n    }\n    applicationAllowsFollowingLinkToLocation(link, location) {\n        const event = this.notifyApplicationAfterClickingLinkToLocation(link, location);\n        return !event.defaultPrevented;\n    }\n    applicationAllowsVisitingLocation(location) {\n        const event = this.notifyApplicationBeforeVisitingLocation(location);\n        return !event.defaultPrevented;\n    }\n    notifyApplicationAfterClickingLinkToLocation(link, location) {\n        return dispatch(\"turbo:click\", { target: link, detail: { url: location.href }, cancelable: true });\n    }\n    notifyApplicationBeforeVisitingLocation(location) {\n        return dispatch(\"turbo:before-visit\", { detail: { url: location.href }, cancelable: true });\n    }\n    notifyApplicationAfterVisitingLocation(location) {\n        return dispatch(\"turbo:visit\", { detail: { url: location.href } });\n    }\n    notifyApplicationBeforeCachingSnapshot() {\n        return dispatch(\"turbo:before-cache\");\n    }\n    notifyApplicationBeforeRender(newBody) {\n        return dispatch(\"turbo:before-render\", { detail: { newBody } });\n    }\n    notifyApplicationAfterRender() {\n        return dispatch(\"turbo:render\");\n    }\n    notifyApplicationAfterPageLoad(timing = {}) {\n        return dispatch(\"turbo:load\", { detail: { url: this.location.href, timing } });\n    }\n    getActionForLink(link) {\n        const action = link.getAttribute(\"data-turbo-action\");\n        return isAction(action) ? action : \"advance\";\n    }\n    elementIsNavigable(element) {\n        const container = element === null || element === void 0 ? void 0 : element.closest(\"[data-turbo]\");\n        if (container) {\n            return container.getAttribute(\"data-turbo\") != \"false\";\n        }\n        else {\n            return true;\n        }\n    }\n    locationIsVisitable(location) {\n        return isPrefixedBy(location, this.snapshot.rootLocation) && isHTML(location);\n    }\n    get snapshot() {\n        return this.view.snapshot;\n    }\n}\nfunction extendURLWithDeprecatedProperties(url) {\n    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\nconst deprecatedLocationPropertyDescriptors = {\n    absoluteURL: {\n        get() {\n            return this.toString();\n        }\n    }\n};\n\nconst session = new Session;\nconst { navigator } = session;\nfunction start() {\n    session.start();\n}\nfunction registerAdapter(adapter) {\n    session.registerAdapter(adapter);\n}\nfunction visit(location, options) {\n    session.visit(location, options);\n}\nfunction connectStreamSource(source) {\n    session.connectStreamSource(source);\n}\nfunction disconnectStreamSource(source) {\n    session.disconnectStreamSource(source);\n}\nfunction renderStreamMessage(message) {\n    session.renderStreamMessage(message);\n}\nfunction clearCache() {\n    session.clearCache();\n}\nfunction setProgressBarDelay(delay) {\n    session.setProgressBarDelay(delay);\n}\n\nstart();\n\nexport { clearCache, connectStreamSource, disconnectStreamSource, navigator, registerAdapter, renderStreamMessage, setProgressBarDelay, start, visit };\n//# sourceMappingURL=turbo.es2017-esm.js.map\n","import * as Turbo from '@hotwired/turbo';\nimport 'alpine-turbo-drive-adapter';\nimport 'alpinejs';\n\nTurbo.start();"],"sourceRoot":""}